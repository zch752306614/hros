(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49864f78"],{"0369":function(t,e,s){"use strict";var n=s("5050"),i=s.n(n);i.a},"1d9b":function(t,e,s){"use strict";var n=s("1f62"),i=s.n(n);i.a},"1f62":function(t,e,s){},"1fe7":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[[s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"公告管理",name:"Amanagement"}},[s("Amanagement")],1),s("el-tab-pane",{attrs:{label:"公告编辑",name:"Announcementtoedit"}},[s("Announcementtoedit")],1)],1)]],2)},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"top-style"},[s("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[s("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入标题进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:""},on:{clear:t.initmain},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.initmain(e)}},model:{value:t.keyword,callback:function(e){t.keyword=e},expression:"keyword"}}),s("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.initmain}},[t._v(" 搜索 ")])],1)]),s("div",{staticClass:"content-styles"},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("div",[s("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"645px"},attrs:{data:t.mainnotices,border:"","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",stripe:"",height:"660"},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),s("el-table-column",{attrs:{prop:"title",label:"公告标题"}}),s("el-table-column",{attrs:{prop:"authon",label:"发布人",width:"150"}}),s("el-table-column",{attrs:{prop:"updateTime",label:"更新时间",width:"200"}}),s("el-table-column",{attrs:{prop:"createTime",label:"创建时间",width:"200"}}),s("el-table-column",{attrs:{label:"操作",width:"250"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini",type:"success"},on:{click:function(s){return t.showView(e.row)}}},[t._v("预览")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return t.deleteHandler(e.row)}}},[t._v("删除")]),s("el-button",{attrs:{size:"mini",type:"primary"},on:{click:function(s){return t.showEditView(e.row)}}},[t._v("修改")])]}}])})],1)],1)])],1),s("div",{staticClass:"bottom-style"},[s("div",[s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",disabled:0==t.multipleSelection.length},on:{click:t.deleteMany}},[t._v("批量删除 ")]),s("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:t.refershMany}},[t._v("刷 新 ")])],1),s("el-pagination",{staticStyle:{"margin-top":"10px","margin-right":"320px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total,"page-sizes":[11,22,333,4444]},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1),s("el-drawer",{ref:"drawer",attrs:{"before-close":t.handleClose,visible:t.dialog,direction:"ltr","custom-class":"drawerstyleleft",size:"40%"},on:{"update:visible":function(e){t.dialog=e}}},[s("div",{staticClass:"center-right-infinite-list"},[s("el-scrollbar",{staticStyle:{height:"100%",width:"100%"}},[s("quill-editor",{attrs:{disabled:"value",options:t.editorOption},model:{value:t.mainnotice.mainbody,callback:function(e){t.$set(t.mainnotice,"mainbody",e)},expression:"mainnotice.mainbody"}})],1)],1)]),s("el-drawer",{ref:"drawer",attrs:{"before-close":t.handleClose,visible:t.updatedialog,direction:"rtl","custom-class":"drawerstyleright",size:"40%"},on:{"update:visible":function(e){t.updatedialog=e},close:t.updatemainnotice}},[s("div",{staticClass:"center-right-infinite-list"},[s("el-scrollbar",{staticStyle:{height:"100%",width:"100%"}},[s("quill-editor",{attrs:{options:t.editorOption},model:{value:t.mainnotice.mainbody,callback:function(e){t.$set(t.mainnotice,"mainbody",e)},expression:"mainnotice.mainbody"}})],1)],1)])],1)},l=[],o=(s("4160"),s("159b"),{name:"Amanagement",data:function(){return{editorOption:{modules:{toolbar:[["link","image","video"],["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},placeholder:"请在这里添加公告讯息哦，选中文字改变样式！",readyOnly:!1,theme:"bubble",syntax:!0},mainnotice:{id:"",title:"",mainbody:""},total:0,page:1,keyword:"",size:11,loading:!1,dialog:!1,updatedialog:!1,mainnotices:[],multipleSelection:[]}},mounted:function(){this.initmain()},methods:{showEditView:function(t){this.updatedialog=!0,this.mainnotice=t},showView:function(t){this.dialog=!0,this.mainnotice=t},handleSelectionChange:function(t){this.multipleSelection=t},updatemainnotice:function(){var t=this;this.$notify.success({title:"修改讯息",message:" 修 改 公 告 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.putRequest("/system/cfg/",this.mainnotice).then((function(e){e&&t.initmain()}))},deleteMany:function(){var t=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e="?";t.multipleSelection.forEach((function(t){e+="ids="+t.id+"&"})),t.$notify.success({title:"删除讯息",message:"删 除 公 告 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/system/cfg/"+e).then((function(e){e&&t.initmain()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},refershMany:function(){this.initmain()},deleteHandler:function(t){var e=this;this.$confirm("此操作将永久删除【"+t.title+"】公告, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 公 告 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),e.deleteRequest("/system/cfg/"+t.id).then((function(t){t&&(e.keyword="",e.initmain())}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"删 除 取 消",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"})}))},initmain:function(){var t=this;this.loading=!0,this.getRequest("/system/cfg/?page="+this.page+"&size="+this.size+"&keyword="+this.keyword).then((function(e){e&&(t.loading=!1,t.mainnotices=e.data,t.total=e.total,t.keyword="")}))},sizeChange:function(t){this.size=t,this.initmain()},currentChange:function(t){this.page=t,this.initmain()}}}),r=o,c=(s("4ac8"),s("2877")),u=Object(c["a"])(r,a,l,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticClass:"edit_container"},[s("div",{staticClass:"topdstyle"},[s("el-input",{staticStyle:{width:"790px"},attrs:{placeholder:"请输入标题",maxlength:"30"},model:{value:t.mainnotice.title,callback:function(e){t.$set(t.mainnotice,"title",e)},expression:"mainnotice.title"}},[s("template",{staticStyle:{"font-family":"站酷庆科黄油体"},slot:"prepend"},[t._v("公告标题")])],2),s("el-button",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"depBtn",staticStyle:{width:"194px","margin-left":"10px"},attrs:{"element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",type:"primary",icon:"el-icon-plus"},on:{click:t.saveHtml}},[t._v(" 保存 ")])],1),s("div",{staticClass:"centontstyle"},[s("el-scrollbar",{staticStyle:{height:"100%",width:"1500px"}},[s("quill-editor",{ref:"myQuillEditor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},ready:function(e){return t.onEditorReady(e)},focus:function(e){return t.onEditorFocus(e)},change:function(e){return t.onEditorChange(e)}},model:{value:t.mainnotice.mainbody,callback:function(e){t.$set(t.mainnotice,"mainbody",e)},expression:"mainnotice.mainbody"}})],1)],1)])},f=[],m={inject:["reload"],data:function(){return{mainnotice:{title:"",mainbody:""},loading:!1,content:"",editorOption:{modules:{toolbar:[["link","image","video"],["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{align:[]}],["clean"]]},placeholder:"请在这里添加公告讯息哦，选中文字改变样式！",readyOnly:!1,theme:"snow",syntax:!0}}},computed:{editor:function(){return this.$refs.myQuillEditor.quill}},methods:{onEditorReady:function(){},onEditorBlur:function(){},onEditorFocus:function(){},onEditorChange:function(){},saveHtml:function(){var t=this;this.mainnotice.mainbody&&this.mainnotice.title?(this.$notify.success({title:"添加公告",message:"添 加 添 加 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),this.loading=!0,this.postRequest("/system/cfg/",this.mainnotice).then((function(e){t.loading=!1,e&&(t.loading=!1,t.mainnotice=[],t.reload(),t.mainnotice=[],t.content="")}))):this.$notify({title:"添加公告",message:"公 告 信 息 不 能 为 空...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass",type:"warning"})}}},h=m,g=(s("1d9b"),Object(c["a"])(h,p,f,!1,null,null,null)),y=g.exports,b={name:"SysCfg",data:function(){return{activeName:"Amanagement",data:{}}},methods:{},components:{Amanagement:d,Announcementtoedit:y}},v=b,w=Object(c["a"])(v,n,i,!1,null,"656d4eda",null);e["default"]=w.exports},"31cd":function(t,e,s){"use strict";var n=s("e07a"),i=s.n(n);i.a},"3d7e":function(t,e,s){},"418a":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{display:"flex","justify-content":"center","margin-top":"10px 10px"}},[s("el-input",{staticClass:"addPosInput",attrs:{placeholder:"请输入用户名进行搜索...","prefix-icon":"el-icon-search"},nativeOn:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.searchname(e)}},model:{value:t.name,callback:function(e){t.name=e},expression:"name"}}),s("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.searchname}},[t._v("搜索")])],1),s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"center-right-infinite-lists",staticStyle:{"margin-top":"10px"},attrs:{"element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw"}},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("div",{staticClass:"hr-container"},t._l(t.hrs,(function(e,n){return s("el-card",{key:n,staticClass:"box-card"},[s("div",{attrs:{slot:"header"},slot:"header"},[s("span",{staticStyle:{"font-family":"站酷庆科黄油体","font-size":"25px"}},[t._v(t._s(e.name))]),s("el-button",{staticStyle:{float:"right",padding:"3px 0",color:"red"},attrs:{type:"text",size:"mini",icon:"el-icon-delete"},on:{click:function(s){return t.deletehr(e)}}})],1),s("div",[s("div",{staticClass:"img-container"},[s("el-divider",[s("el-image",{staticClass:"userface-img",attrs:{src:e.userface,alt:e.name,title:e.name}})],1)],1),s("div",{staticStyle:{"margin-top":"20px","font-size":"16px",lineHeight:"2"}},[s("div",[t._v("用户名："+t._s(e.name))]),s("div",[t._v("手机号码："+t._s(e.phone))]),s("div",[t._v("电话号码："+t._s(e.telephone))]),s("div",[t._v("地 址："+t._s(e.address))]),s("div",[t._v("用户状态： "),s("el-switch",{attrs:{"active-color":"#13ce66","inactive-color":"#ff4949"},on:{change:function(s){return t.updatenable(e)}},model:{value:e.enabled,callback:function(s){t.$set(e,"enabled",s)},expression:"hr.enabled"}})],1),s("div",[t._v("用户角色： "),t._l(e.roles,(function(e,n){return s("el-tag",{key:n,staticStyle:{"margin-right":"5px"},attrs:{size:"mini",type:"success",effect:"dark"}},[t._v(" "+t._s(e.namezh)+" ")])})),s("el-popover",{attrs:{title:"角色列表",width:"200",trigger:"click"},on:{show:function(s){return t.showrol(e)},"after-leave":function(s){return t.hiderol(e)}}},[[s("el-select",{attrs:{multiple:"","popper-append-to-body":!1,placeholder:"请选择"},model:{value:t.selectroles,callback:function(e){t.selectroles=e},expression:"selectroles"}},t._l(t.roles,(function(t,e){return s("el-option",{key:e,attrs:{label:t.namezh,value:t.id}})})),1)],s("el-button",{attrs:{slot:"reference",icon:"el-icon-edit",type:"text"},slot:"reference"})],2)],2),s("div",[t._v("备注："+t._s(e.remark))])])])])})),1),s("el-backtop",{attrs:{target:".center-right-infinite-lists .el-scrollbar__wrap  "}})],1)],1)])},i=[],a=(s("4160"),s("b0c0"),s("159b"),{data:function(){return{name:"",hrs:[],roles:[],selectroles:[],loading:!1}},mounted:function(){this.inithrs(),this.initroles()},methods:{deletehr:function(t){var e=this;this.$confirm("此操作将永久删除【"+t.name+"】用户, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 用 户 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclasssysuser"}),e.deleteRequest("/system/hr/"+t.id).then((function(t){t&&e.initrps(),e.inithrs()}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclasssysuser"})}))},searchname:function(){var t=this;this.name||this.$notify({title:"搜索讯息",message:"搜 索 字 段 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclasssysuser",type:"warning"}),this.getRequest("/system/hr/?name="+this.name).then((function(e){e&&(t.hrs=e,t.name="")}))},updatenable:function(t){var e=this;delete t.roles,delete t.authorities,this.$notify.success({title:"修改讯息",message:"用 户 信 息 修 改 中...",showClose:!1,offset:200,duration:2e3,customClass:"fontclasssysuser"}),this.putRequest("/system/hr/",t).then((function(t){t&&e.inithrs()}))},hiderol:function(t){var e=this,s="/system/hr/role?hrid="+t.id;this.selectroles.forEach((function(t){s+="&rids="+t})),s+="&rids",this.selectroles=null,this.$notify.success({title:"修改讯息",message:"用 户 信 息 修 改 中...",showClose:!1,offset:200,duration:2e3,customClass:"fontclasssysuser"}),this.putRequest(s).then((function(t){t&&e.inithrs()}))},showrol:function(t){var e=this,s=t.roles;this.selectroles=[],s.forEach((function(t){e.selectroles.push(t.id)}))},initroles:function(){var t=this;this.getRequest("/system/hr/roles").then((function(e){e&&(t.roles=e)}))},inithrs:function(){var t=this;setTimeout((function(){t.$notify.success({title:"系统讯息",message:"用 户 信 息 加 载 中...",showClose:!1,offset:200,duration:2e3,customClass:"fontclasssysuser"})}),900),this.loading=!0,this.getRequest("/system/hr/?name="+this.name).then((function(e){e&&(t.hrs=e,t.loading=!1)}))}},watch:{hrs:function(){var t=this;0==this.hrs.length&&setTimeout((function(){t.loading=!1,t.$notify.info({title:"系统讯息",message:"没 有 用 户 信 息...",showClose:!1,offset:100,duration:2e3,customClass:"fontclasssysuser"})}),1e3)}}}),l=a,o=(s("a73a"),s("2877")),r=Object(o["a"])(l,n,i,!1,null,null,null);e["default"]=r.exports},"4ac8":function(t,e,s){"use strict";var n=s("9790"),i=s.n(n);i.a},5050:function(t,e,s){},"69f6":function(t,e,s){"use strict";var n=s("92632"),i=s.n(n);i.a},8608:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{staticStyle:{width:"1000px",height:"500px"}},[s("quill-editor",{ref:"myTextEditor",staticClass:"editor",attrs:{options:t.editorOption},on:{blur:function(e){return t.onEditorBlur(e)},focus:function(e){return t.onEditorFocus(e)},ready:function(e){return t.onEditorReady(e)},change:function(e){return t.onEditorChange(e)}},model:{value:t.content,callback:function(e){t.content=e},expression:"content"}})],1)},i=[],a={data:function(){return{content:null,editorOption:{modules:{toolbar:[["bold","italic","underline","strike"],["blockquote","code-block"],[{header:1},{header:2}],[{list:"ordered"},{list:"bullet"}],[{script:"sub"},{script:"super"}],[{indent:"-1"},{indent:"+1"}],[{size:["small",!1,"large","huge"]}],[{header:[1,2,3,4,5,6,!1]}],[{color:[]},{background:[]}],[{font:[]}],[{align:[]}],["clean"],["link","image","video"]]},placeholder:"请在这里添加产品描述",readyOnly:!1,theme:"snow",syntax:!0}}},methods:{onEditorBlur:function(t){},onEditorFocus:function(t){},onEditorReady:function(t){},onEditorChange:function(t){this.content=t.html,console.log(t)}},computed:{editor:function(){return this.$refs.myTextEditor.quillEditor}},mounted:function(){}},l=a,o=(s("f503"),s("2877")),r=Object(o["a"])(l,n,i,!1,null,null,null);e["default"]=r.exports},"864e":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"top-log-style"},[s("el-select",{staticStyle:{"margin-right":"10px"},attrs:{clearable:"",placeholder:"日志类型",icon:"el-icon-plus"},model:{value:t.logtype,callback:function(e){t.logtype=e},expression:"logtype"}},t._l(t.logtypes,(function(t){return s("el-option",{key:t.id,attrs:{label:t.logtypemsg,value:t.id}})})),1),s("el-date-picker",{attrs:{type:"monthrange",align:"left","unlink-panels":"","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始月份","end-placeholder":"结束月份","picker-options":t.pickerOptions},model:{value:t.beginDateScope,callback:function(e){t.beginDateScope=e},expression:"beginDateScope"}}),s("el-button",{staticStyle:{"margin-left":"20px"},attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.initlog}},[t._v(" 搜索 ")])],1),s("div",{staticClass:"centon-log-style"},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("div",[s("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"645px"},attrs:{data:t.logs,border:"","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",stripe:"",height:"690"},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),s("el-table-column",{attrs:{prop:"logTypss.logtypemsg",label:"日志类型",width:"200"}}),s("el-table-column",{attrs:{prop:"operate",label:"日志描述"}}),s("el-table-column",{attrs:{prop:"hrname",label:"操作人",width:"200"}}),s("el-table-column",{attrs:{prop:"adddate",width:"200",label:"日志时间"}})],1)],1)])],1),s("div",{staticClass:"bottom-log-style"},[s("div",[s("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:t.refershMany}},[t._v("刷 新 ")])],1),s("el-pagination",{staticStyle:{"margin-top":"10px","margin-right":"320px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:t.total,"page-sizes":[13,33,333,,3333]},on:{"current-change":t.currentChange,"size-change":t.sizeChange}})],1)])},i=[],a=(s("0d03"),{name:"SysLog",data:function(){return{loading:!1,total:0,page:1,size:13,logtypes:{},logtype:"",logs:[],beginDateScope:null,multipleSelection:[],pickerOptions:{shortcuts:[{text:"本月",onClick:function(t){t.$emit("pick",[new Date,new Date])}},{text:"今年至今",onClick:function(t){var e=new Date,s=new Date((new Date).getFullYear(),0);t.$emit("pick",[s,e])}},{text:"最近六个月",onClick:function(t){var e=new Date,s=new Date;s.setMonth(s.getMonth()-6),t.$emit("pick",[s,e])}}]}}},mounted:function(){this.initlog(),this.inittypelog()},methods:{sizeChange:function(t){this.size=t,this.initlog()},currentChange:function(t){this.page=t,this.initlog()},initlog:function(){var t=this;this.loading=!0,this.logtype&&this.$notify.success({title:"搜索讯息",message:"搜 索 日 志 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclasssyslog"});var e="/system/log/?page="+this.page+"&size="+this.size;this.logtype&&(e+="&logtype="+this.logtype,this.logtype=""),this.beginDateScope&&(e+="&beginDateScope="+this.beginDateScope,this.beginDateScope=null),this.getRequest(e).then((function(e){e&&(t.logs=e.data,t.total=e.total,t.loading=!1)}))},inittypelog:function(){var t=this;this.getRequest("/system/log/logtype").then((function(e){e&&(t.logtypes=e)}))}}}),l=a,o=(s("31cd"),s("2877")),r=Object(o["a"])(l,n,i,!1,null,null,null);e["default"]=r.exports},"890c":function(t,e,s){},"8d67":function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[[s("el-tabs",{on:{"tab-click":t.handleClick},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},[s("el-tab-pane",{attrs:{label:"部门管理",name:"depmana"}},[s("DepMana")],1),s("el-tab-pane",{attrs:{label:"职位管理",name:"posmana"}},[s("PosMana")],1),s("el-tab-pane",{attrs:{label:"职称管理",name:"joblevelmana"}},[s("JobLevelMana")],1),s("el-tab-pane",{attrs:{label:"奖惩规则",name:"ecmana"}},[s("EcMana")],1),s("el-tab-pane",{attrs:{label:"权限组",name:"permissmana"}},[s("PermissMana")],1)],1)]],2)},i=[],a=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:t.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticClass:"mainclassstyle",staticStyle:{width:"900px"},attrs:{"element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw"}},[s("div",{staticClass:"input_style"},[s("el-input",{staticStyle:{"margin-right":"15px"},attrs:{placeholder:"请输入部门名称进行搜索...","prefix-icon":"el-icon-search"},model:{value:t.filterText,callback:function(e){t.filterText=e},expression:"filterText"}},[s("el-button",{attrs:{slot:"append",icon:"el-icon-search"},slot:"append"})],1),s("el-tooltip",{attrs:{content:"部门树预览",placement:"right",effect:"light"}},[s("el-button",{staticStyle:{"margin-left":"100px"},attrs:{type:"success",icon:"el-icon-picture-outline-round",circle:""},on:{click:function(e){t.table=!0}}})],1)],1),s("div",{staticClass:"center-right-infinite-list"},[s("el-scrollbar",{staticStyle:{height:"100%"}},[s("div",{staticStyle:{width:"800px",overflow:"auto"}},[s("el-tree",{ref:"tree",staticStyle:{width:"606px"},attrs:{data:t.deps,props:t.defaultProps,"expand-on-click-node":!1,"filter-node-method":t.filterNode,"icon-class":"","default-expand-all":!0},on:{"node-click":t.handleNodeClick},scopedSlots:t._u([{key:"default",fn:function(e){e.node;var n=e.data;return s("span",{staticClass:"custom-tree-node",staticStyle:{display:"flex","justify-content":"space-between",width:"100%"}},[s("span",[t._v(t._s(n.name))]),s("span",[s("el-button",{staticClass:"depBtn",attrs:{type:"primary",size:"mini"},on:{click:function(){return t.showAddDepView(n)}}},[t._v(" 添加部门 ")]),s("el-button",{staticClass:"depBtn",attrs:{type:"danger",size:"mini"},on:{click:function(){return t.deleteDep(n)}}},[t._v(" 删除部门 ")])],1)])}}])})],1)])],1),s("el-dialog",{attrs:{title:"添加部门",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",[s("el-form",{attrs:{rules:t.rules}},[s("el-input",{staticClass:"updatePosInput",staticStyle:{width:"400px"},attrs:{type:"text",placeholder:"请输入部门..."},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doAddDep(e)}},model:{value:t.dep.name,callback:function(e){t.$set(t.dep,"name",e)},expression:"dep.name"}},[s("template",{slot:"prepend"},[t._v(t._s(t.pname)+" >>")])],2)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{on:{click:t.outUpdate}},[t._v("取 消")]),s("el-button",{attrs:{type:"primary"},on:{click:t.doAddDep}},[t._v("确 定")])],1)]),s("el-drawer",{attrs:{size:"60%",direction:"btt","custom-class":"drawer",visible:t.table},on:{"update:visible":function(e){t.table=e}}},[s("ve-tree",{attrs:{data:t.chartData,settings:t.chartSettings}})],1)],1)},l=[],o=(s("99af"),s("4de4"),s("c975"),s("a434"),s("b0c0"),{name:"DepMana",data:function(){return this.chartSettings={seriesMap:{tree1:{height:"100%",width:"1400px",roam:!0,top:"10",bottom:"10",initialTreeDepth:8,leaves:{label:{normal:{position:"bottom",verticalAlign:"middle",align:"left"}}},lineStyle:{color:"#67C23A",width:2}}}},{table:!1,loading:!1,chartData:{columns:["name","value"],rows:[{name:"tree1",value:this.deps}]},dialogVisible:!1,filterText:"",dep:{name:"",parentid:-1},pname:"",deps:[],defaultProps:{children:"children",label:"name"}}},watch:{filterText:function(t){this.$refs.tree.filter(t)}},mounted:function(){this.initDeps()},methods:{outUpdate:function(){this.$notify.info({title:"修改讯息",message:"已 取 消 修 改...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.dialogVisible=!1},initDep:function(){this.dep={name:"",parentid:-1},this.pname=""},addDep2Deps:function(t,e){for(var s=0;s<t.length;s++){var n=t[s];if(n.id==e.parentid)return n.children=n.children.concat(e),void(n.children.length>0&&(n.parent=!0));this.addDep2Deps(n.children,e)}},doAddDep:function(){var t=this;this.dep.name?(this.$notify.success({title:"添加讯息",message:"添 加 部 门 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.postRequest("/system/basic/department/",this.dep).then((function(e){e&&(t.addDep2Deps(t.deps,e.obj),t.dialogVisible=!1,t.initDep())}))):this.$notify({title:"添加讯息",message:"添 加 部 门 字 段 不 可 以 为 空...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},removeDepFromDeps:function(t,e,s){for(var n=0;n<e.length;n++){var i=e[n];if(i.id==s)return e.splice(n,1),void(0==e.length&&(t.parent=!1));this.removeDepFromDeps(i,i.children,s)}},deleteDep:function(t){var e=this;t.parent?this.$notify({title:"删除讯息",message:"父 部 门 删 除 失 败",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"error"}):this.$confirm("此操作将永久删除【"+t.name+"】部门, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 部 门 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),e.deleteRequest("/system/basic/department/"+t.id).then((function(s){s&&e.removeDepFromDeps(null,e.deps,t.id)}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"以 取 消 删 除...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"})}))},showAddDepView:function(t){this.pname=t.name,this.dep.parentid=t.id,this.dialogVisible=!0},initDeps:function(){var t=this;this.loading=!0,setTimeout((function(){t.$notify.success({title:"系统讯息",message:"部 门 信 息 加 载 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}),1300),this.getRequest("/system/basic/department/").then((function(e){e&&(t.deps=e,t.chartData.rows[0].value=t.deps,t.loading=!1)}))},filterNode:function(t,e){return!t||-1!==e.name.indexOf(t)}}}),r=o,c=(s("69f6"),s("2877")),u=Object(c["a"])(r,a,l,!1,null,null,null),d=u.exports,p=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{display:"flex","align-items":"center"}},[s("el-input",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticClass:"addPosInput",attrs:{"element-loading-text":"正在加载...","element-loading-spinner":"el-icon-loading","element-loading-background":"rgba(0, 0, 0, 0.8)",placeholder:"添加职位...","prefix-icon":"el-icon-plus"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.addPosition(e)}},model:{value:t.pos.name,callback:function(e){t.$set(t.pos,"name",e)},expression:"pos.name"}}),[s("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.addPosition}},[t._v("添加")])],s("el-input",{staticClass:"addPosInput",attrs:{placeholder:"请输入职位名称进行搜索...","prefix-icon":"el-icon-search"},model:{value:t.pos.searchname,callback:function(e){t.$set(t.pos,"searchname",e)},expression:"pos.searchname"}}),s("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.searchname}},[t._v("搜索")])],2),s("div",{staticClass:"posManaMain"},[s("el-table",{staticStyle:{width:"80%"},attrs:{data:t.positions,border:"",size:"small",stripe:""},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),s("el-table-column",{attrs:{prop:"name",label:"职位名称",width:"180"}}),s("el-table-column",{attrs:{prop:"createdate",width:"200",label:"创建时间"}}),s("el-table-column",{attrs:{label:"是否启用"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.enabled?s("el-tag",{attrs:{size:"small",type:"success"}},[t._v("已启用")]):s("el-tag",{attrs:{size:"small",type:"danger"}},[t._v("未启用")])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.showEditView(e.$index,e.row)}}},[t._v("编辑 ")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return t.handleDelete(e.$index,e.row)}}},[t._v("删除 ")])]}}])})],1),s("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"danger",disabled:0==t.multipleSelection.length},on:{click:t.deleteMany}},[t._v("批量删除 ")]),s("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:t.refershMany}},[t._v("刷 新 ")])],1),s("el-dialog",{attrs:{title:"修改职位",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",[s("el-form",{attrs:{rules:t.rules}},[s("el-form-item",{attrs:{label:"职位名称",prop:"updatePos.name"}},[s("el-input",{staticClass:"updatePosInput",attrs:{type:"text",size:"small"},model:{value:t.updatePos.name,callback:function(e){t.$set(t.updatePos,"name",e)},expression:"updatePos.name"}})],1),s("el-form-item",{attrs:{label:"是否启用",prop:"delivery"}},[s("el-switch",{staticStyle:{"margin-left":"15px"},model:{value:t.updatePos.enabled,callback:function(e){t.$set(t.updatePos,"enabled",e)},expression:"updatePos.enabled"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:t.outUpdate}},[t._v("取 消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.doUpdate}},[t._v("确 定")])],1)])],1)},f=[],m=(s("4160"),s("159b"),{name:"PosMana",data:function(){return{pos:{name:"",searchname:""},dialogVisible:!1,loading:!1,updatePos:{name:"",enabled:!1},multipleSelection:[],positions:[]}},mounted:function(){this.initPositions()},methods:{refershMany:function(){this.initPositions()},searchname:function(){var t=this;this.pos.searchname?(this.$notify.success({title:"搜索讯息",message:"搜 索 职 位 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.pos.name=this.pos.searchname,this.postRequest("/system/basic/pos/serch/",this.pos).then((function(e){e&&(t.positions=e,t.pos.searchname="",t.pos.name="")}))):this.$notify({title:"搜索讯息",message:"搜 索 字 段 不 可 以 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},deleteMany:function(){var t=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e="?";t.multipleSelection.forEach((function(t){e+="ids="+t.id+"&"})),t.$notify.success({title:"删除讯息",message:"删 除 职 位 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/system/basic/pos/"+e).then((function(e){e&&t.initPositions()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"取 消 删 除 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},handleSelectionChange:function(t){this.multipleSelection=t},addPosition:function(){var t=this;this.pos.name?(this.$notify.success({title:"添加讯息",message:"添 加 职 位 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.postRequest("/system/basic/pos/",this.pos).then((function(e){e&&(t.initPositions(),t.pos.name="")}))):this.$notify({title:"添加讯息",message:"添 加 字 段 不 可 以 为 空!",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},showEditView:function(t,e){Object.assign(this.updatePos,e),this.dialogVisible=!0},outUpdate:function(){this.$notify.info({title:"修改讯息",message:"已 取 消 修 改...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.dialogVisible=!1},doUpdate:function(){var t=this;this.$notify.success({title:"修改讯息",message:"更 新 职 位 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.putRequest("/system/basic/pos/",this.updatePos).then((function(e){e&&(t.initPositions(),t.updatePos.name="",t.dialogVisible=!1)}))},handleDelete:function(t,e){var s=this;this.$confirm("此操作将永久删除【"+e.name+"】职位, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){s.$notify.success({title:"删除讯息",message:"删 除 职 位 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),s.deleteRequest("/system/basic/pos/"+e.id).then((function(t){t&&s.initPositions()}))})).catch((function(){s.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"})}))},initPositions:function(){var t=this;setTimeout((function(){t.$notify.success({title:"系统讯息",message:"职 位 信 息 加 载 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}),900),this.loading=!0,this.getRequest("/system/basic/pos/").then((function(e){t.loading=!1,e&&(t.positions=e)}))}}}),h=m,g=(s("d1a9"),Object(c["a"])(h,p,f,!1,null,null,null)),y=g.exports,b=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[s("el-input",{staticStyle:{width:"300px"},attrs:{"prefix-icon":"el-icon-plus",placeholder:"添加职称..."},model:{value:t.jl.name,callback:function(e){t.$set(t.jl,"name",e)},expression:"jl.name"}}),s("el-select",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{placeholder:"职称等级"},model:{value:t.jl.titlelevel,callback:function(e){t.$set(t.jl,"titlelevel",e)},expression:"jl.titlelevel"}},t._l(t.titlelevels,(function(t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),1),s("el-button",{attrs:{icon:"el-icon-plus",type:"primary"},on:{click:t.addJobLevel}},[t._v("添加")]),s("el-input",{staticClass:"addPosInput",attrs:{placeholder:"请输入职称名称进行搜索...","prefix-icon":"el-icon-search"},model:{value:t.jl.searchname,callback:function(e){t.$set(t.jl,"searchname",e)},expression:"jl.searchname"}}),s("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.searchname}},[t._v("搜索")])],1),s("div",{staticStyle:{"margin-top":"10px"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"80%"},attrs:{data:t.jls,border:"","element-loading-spinner":"el-icon-loading",size:"small",stripe:""},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),s("el-table-column",{attrs:{prop:"name",label:"职称名称",width:"150"}}),s("el-table-column",{attrs:{prop:"titlelevel",label:"职称级别",width:"150"}}),s("el-table-column",{attrs:{prop:"createdate",label:"创建时间",width:"200"}}),s("el-table-column",{attrs:{label:"是否启用",width:"150"},scopedSlots:t._u([{key:"default",fn:function(e){return[e.row.enabled?s("el-tag",{attrs:{type:"success",size:"small"}},[t._v("已启用")]):s("el-tag",{attrs:{type:"danger",size:"small"}},[t._v("未启用")])]}}])}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.showEditView(e.row)}}},[t._v("编辑")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return t.deleteHandler(e.row)}}},[t._v("删除")])]}}])})],1),s("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",disabled:0==t.multipleSelection.length},on:{click:t.deleteMany}},[t._v("批量删除 ")]),s("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:t.refershMany}},[t._v("刷 新 ")])],1)],1),s("el-dialog",{attrs:{title:"修改职称",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",[s("el-form",{attrs:{rules:t.rules}},[s("el-form-item",{attrs:{label:"职称名称",prop:"updateJl.name"}},[s("el-input",{staticClass:"updatePosInput",attrs:{type:"text",size:"small"},model:{value:t.updateJl.name,callback:function(e){t.$set(t.updateJl,"name",e)},expression:"updateJl.name"}})],1),s("el-form-item",{attrs:{label:"职称等级",prop:"updateJl.titlelevel"}},[s("el-select",{staticStyle:{"margin-left":"5px","margin-right":"5px"},attrs:{placeholder:"职称等级",size:"small"},model:{value:t.updateJl.titlelevel,callback:function(e){t.$set(t.updateJl,"titlelevel",e)},expression:"updateJl.titlelevel"}},t._l(t.titlelevels,(function(t){return s("el-option",{key:t,attrs:{label:t,value:t}})})),1)],1),s("el-form-item",{attrs:{label:"是否启用",prop:"updateJl.enabled"}},[s("el-switch",{staticStyle:{"margin-left":"15px"},model:{value:t.updateJl.enabled,callback:function(e){t.$set(t.updateJl,"enabled",e)},expression:"updateJl.enabled"}})],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:t.outUpdate}},[t._v("取 消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.doUpdate}},[t._v("确 定")])],1)])],1)},v=[],w={name:"JobLevelMana",data:function(){return{dialogVisible:!1,loading:!1,multipleSelection:[],updateJl:{name:"",titlelevel:"",enabled:!1},jl:{name:"",titlelevel:"",searchname:""},jls:[],titlelevels:["正高级","副高级","中级","初级","员级"]}},mounted:function(){this.initJls()},methods:{refershMany:function(){this.initJls()},searchname:function(){var t=this;this.jl.searchname?(this.$notify.success({title:"搜索讯息",message:"搜 索 职 位 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.jl.name=this.jl.searchname,this.postRequest("/system/basic/joblevel/serch/",this.jl).then((function(e){e&&(t.jls=e,t.jl.searchname="",t.jl.name="")}))):this.$notify({title:"搜索讯息",message:"搜 索 字 段 不 可 以 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},deleteMany:function(){var t=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e="?";t.multipleSelection.forEach((function(t){e+="ids="+t.id+"&"})),t.$notify.success({title:"删除讯息",message:"删 除 职 位 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/system/basic/joblevel/"+e).then((function(e){e&&t.initJls()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},outUpdate:function(){this.dialogVisible=!1,this.$notify.info({title:"修改讯息",message:"以 取 消 修 改 职 位 ",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"})},doUpdate:function(){var t=this;this.$notify.success({title:"修改讯息",message:" 修 改 职 位 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.putRequest("/system/basic/joblevel/",this.updateJl).then((function(e){e&&(t.initJls(),t.dialogVisible=!1)}))},handleSelectionChange:function(t){this.multipleSelection=t},showEditView:function(t){Object.assign(this.updateJl,t),this.dialogVisible=!0},deleteHandler:function(t){var e=this;this.$confirm("此操作将永久【"+t.name+"】职称, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 职 位 中...",showClose:!1,offset:100,duration:3e3,customClass:"fontclass"}),e.deleteRequest("/system/basic/joblevel/"+t.id).then((function(t){t&&e.initJls()}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ...",showClose:!1,offset:100,duration:3e3,customClass:"fontclass"})}))},addJobLevel:function(){var t=this;this.jl.name&&this.jl.titlelevel?(this.$notify.success({title:"添加讯息",message:"添 加 职 位 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),this.postRequest("/system/basic/joblevel/",this.jl).then((function(e){e&&t.initJls()}))):this.$notify({title:"添加讯息",message:"添 加 字 段 不 可 以 为 空...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass",type:"warning"})},initJls:function(){var t=this;setTimeout((function(){t.$notify.success({title:"系统讯息",message:"职 称 信 息 加 载 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}),1e3),this.loading=!0,this.getRequest("/system/basic/joblevel/").then((function(e){t.loading=!1,e&&(t.jls=e,t.jl={name:"",titleLevel:""})}))}}},x=w,C=(s("0369"),Object(c["a"])(x,b,v,!1,null,"22fc26ee",null)),k=C.exports,S=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticStyle:{display:"flex","align-items":"center","justify-content":"flex-start","margin-bottom":"10px"}},[s("el-select",{staticStyle:{"margin-right":"10px"},attrs:{clearable:"",placeholder:"奖罚类别",icon:"el-icon-plus"},model:{value:t.rp.rpsystemId,callback:function(e){t.$set(t.rp,"rpsystemId",e)},expression:"rp.rpsystemId"}},t._l(t.rpsystems,(function(t){return s("el-option",{key:t.id,attrs:{label:t.rpsystem,value:t.id}})})),1),s("el-tooltip",{attrs:{content:"奖罚分值",placement:"top",effect:"light"}},[s("el-input-number",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"奖罚分值","controls-position":"right",min:-10,max:10},model:{value:t.rp.rpiont,callback:function(e){t.$set(t.rp,"rpiont",e)},expression:"rp.rpiont"}})],1),s("el-autocomplete",{staticClass:"inline-input",staticStyle:{"margin-right":"10px"},attrs:{"fetch-suggestions":t.querySearch,placeholder:"奖罚描述"},model:{value:t.rp.rpmsg,callback:function(e){t.$set(t.rp,"rpmsg",e)},expression:"rp.rpmsg"}},[s("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})]),s("el-button",{attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.addrwardsPunishments}},[t._v("添加")]),s("el-input",{staticClass:"addPosInput",attrs:{placeholder:"请输入奖惩描述进行搜索...","prefix-icon":"el-icon-search","fetch-suggestions":t.querySearch},model:{value:t.rp.searchname,callback:function(e){t.$set(t.rp,"searchname",e)},expression:"rp.searchname"}}),s("el-button",{attrs:{icon:"el-icon-search",type:"primary"},on:{click:t.searchname}},[t._v("搜索")])],1),s("div",{staticStyle:{"margin-top":"10px"}},[s("el-table",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"}],staticStyle:{width:"80%"},attrs:{data:t.rps,border:"","element-loading-spinner":"el-icon-loading",size:"small",stripe:""},on:{"selection-change":t.handleSelectionChange}},[s("el-table-column",{attrs:{type:"selection",width:"55"}}),s("el-table-column",{attrs:{prop:"id",label:"编号",width:"55"}}),s("el-table-column",{attrs:{prop:"rwardsAndPunishments.rpsystem",label:"奖罚类别",width:"150"}}),s("el-table-column",{attrs:{prop:"rpiont",label:"奖罚分值",width:"100"}}),s("el-table-column",{attrs:{prop:"rpmsg",label:"奖罚描述",width:"250"}}),s("el-table-column",{attrs:{prop:"createrp",label:"创建时间",width:"250"}}),s("el-table-column",{attrs:{label:"操作"},scopedSlots:t._u([{key:"default",fn:function(e){return[s("el-button",{attrs:{size:"mini"},on:{click:function(s){return t.showEditView(e.row)}}},[t._v("编辑")]),s("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(s){return t.deleteHandler(e.row)}}},[t._v("删除")])]}}])})],1),s("el-dialog",{attrs:{title:"修改奖罚规则",visible:t.dialogVisible,width:"30%"},on:{"update:visible":function(e){t.dialogVisible=e}}},[s("div",[s("el-form",{attrs:{rules:t.rules}},[s("el-form-item",{attrs:{label:"奖罚类别",prop:"updaterp.name"}},[s("el-select",{staticStyle:{"margin-right":"10px"},attrs:{clearable:"",placeholder:"奖罚类别",icon:"el-icon-plus"},model:{value:t.updaterp.rpsystemId,callback:function(e){t.$set(t.updaterp,"rpsystemId",e)},expression:"updaterp.rpsystemId"}},t._l(t.rpsystems,(function(t){return s("el-option",{key:t.id,attrs:{label:t.rpsystem,value:t.id}})})),1)],1),s("el-form-item",{attrs:{label:"奖罚分值",prop:"rp.rpiont"}},[s("el-input-number",{staticStyle:{"margin-right":"10px"},attrs:{placeholder:"奖罚分值","controls-position":"right",min:-10,max:10},model:{value:t.updaterp.rpiont,callback:function(e){t.$set(t.updaterp,"rpiont",e)},expression:"updaterp.rpiont"}})],1),s("el-form-item",{attrs:{label:"奖罚描述",prop:"rp.rpmsg"}},[s("el-autocomplete",{staticClass:"inline-input",staticStyle:{"margin-right":"10px"},attrs:{"fetch-suggestions":t.querySearch,placeholder:"奖罚描述"},model:{value:t.updaterp.rpmsg,callback:function(e){t.$set(t.updaterp,"rpmsg",e)},expression:"updaterp.rpmsg"}},[s("i",{staticClass:"el-icon-edit el-input__icon",attrs:{slot:"suffix"},slot:"suffix"})])],1)],1)],1),s("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[s("el-button",{attrs:{size:"small"},on:{click:t.outUpdate}},[t._v("取 消")]),s("el-button",{attrs:{size:"small",type:"primary"},on:{click:t.doUpdate}},[t._v("确 定")])],1)]),s("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"danger",disabled:0==t.multipleSelection.length},on:{click:t.deleteMany}},[t._v("批量删除 ")]),s("el-button",{staticStyle:{"margin-top":"8px"},attrs:{type:"primary"},on:{click:t.refershMany}},[t._v("刷 新 ")])],1)])},_=[],$={data:function(){return{dialogVisible:!1,rpsystems:[],rpsystem:"",rps:[],rp:{rpsystemId:"",rpmsg:"",rpiont:"1",searchname:""},updaterp:{rpsystemId:"",rpmsg:"",rpiont:"",searchname:"",rwardsAndPunishments:{rpsystem:""}},restaurants:[],loading:!1,multipleSelection:[]}},mounted:function(){this.initrps(),this.initrpsystems(),this.restaurants=this.initrpmsg()},methods:{handleSelectionChange:function(t){this.multipleSelection=t},deleteMany:function(){var t=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){var e="?";t.multipleSelection.forEach((function(t){e+="ids="+t.id+"&"})),t.$notify.success({title:"删除讯息",message:"删 除 职 位 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/system/basic/rp/"+e).then((function(e){e&&t.initrps()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},showEditView:function(t){Object.assign(this.updaterp,t),this.dialogVisible=!0},outUpdate:function(){this.$notify.info({title:"修改讯息",message:"已 取 消 修 改...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.dialogVisible=!1},doUpdate:function(){var t=this;this.$notify.success({title:"修改讯息",message:"更 新 职 位 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.putRequest("/system/basic/rp/",this.updaterp).then((function(e){e&&(t.initrps(),t.dialogVisible=!1)}))},searchname:function(){var t=this;this.rp.searchname?(this.rp.rpmsg=this.rp.searchname,this.postRequest("/system/basic/rp/serch/",this.rp).then((function(e){e&&(t.rps=e,t.rp.rpmsg="",t.rp.searchname="")}))):this.$notify({title:"搜索讯息",message:"搜 索 字 段 不 可 以 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},deleteHandler:function(t){var e=this;this.$confirm("此操作将永久删除【"+t.rpmsg+"】规则, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 职 位 中...",showClose:!1,offset:100,duration:3e3,customClass:"fontclass"}),e.deleteRequest("/system/basic/rp/"+t.id).then((function(t){t&&e.initrps()}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ...",showClose:!1,offset:100,duration:3e3,customClass:"fontclass"})}))},refershMany:function(){this.initrps()},querySearch:function(t,e){var s=this.restaurants,n=t?s.filter(this.createFilter(t)):s;e(n)},createFilter:function(t){return function(e){return e.value.toLowerCase().indexOf(t.toLowerCase())>-1}},initrpmsg:function(){return[{value:"通报批评"},{value:"通报表扬"},{value:"嘉奖"},{value:"辞退"},{value:"开除"},{value:"带薪调休"},{value:"晋职"},{value:"记小功"},{value:"晋级"},{value:"记大功"},{value:"年终评奖"},{value:"晋职晋级"}]},addrwardsPunishments:function(){var t=this;this.rp.rpsystemId&&this.rp.rpmsg&&this.rp.rpiont?(this.$notify.success({title:"添加讯息",message:"添 加 奖 惩 规 则 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),this.postRequest("/system/basic/rp/",this.rp).then((function(e){e&&(t.rp.rpsystemId="",t.rp.rpmsg="",t.rp.rpiont="1",t.initrps())}))):this.$notify({title:"添加讯息",message:"添 加 字 段 不 可 以 为 空!",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},initrpsystems:function(){var t=this;this.getRequest("/system/basic/rp/rap/").then((function(e){e&&(t.rpsystems=e)}))},initrps:function(){var t=this;setTimeout((function(){t.$notify.success({title:"系统讯息",message:"奖 罚 规 则 信 息 加 载 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}),1200),this.getRequest("/system/basic/rp/").then((function(e){e&&(t.rps=e)}))}}},z=$,j=(s("f671"),Object(c["a"])(z,S,_,!1,null,null,null)),E=j.exports,R=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[s("div",{staticClass:"permissManaTool"},[s("el-input",{attrs:{placeholder:"请输入角色英文名"},model:{value:t.role.name,callback:function(e){t.$set(t.role,"name",e)},expression:"role.name"}},[s("template",{slot:"prepend"},[t._v("ROLE_")])],2),s("el-input",{attrs:{placeholder:"请输入角色中文名"},nativeOn:{keydown:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:t.doAddRole(e)}},model:{value:t.role.namezh,callback:function(e){t.$set(t.role,"namezh",e)},expression:"role.namezh"}}),s("el-button",{staticStyle:{"margin-right":"120px"},attrs:{type:"primary",icon:"el-icon-plus"},on:{click:t.doAddRole}},[t._v("添加角色")]),s("el-tooltip",{attrs:{content:"角色权限预览",placement:"right",effect:"light"}},[s("el-button",{attrs:{type:"success",icon:"el-icon-picture-outline-round",circle:""},on:{click:function(e){t.table=!0}}})],1)],1),s("div",{staticClass:"permissManaMain"},[s("el-collapse",{attrs:{accordion:""},on:{change:t.change},model:{value:t.activeName,callback:function(e){t.activeName=e},expression:"activeName"}},t._l(t.roles,(function(e,n){return s("el-collapse-item",{key:n,attrs:{title:e.namezh,name:e.id}},[s("el-card",{staticClass:"box-card",attrs:{shadow:"hover"}},[s("div",{staticClass:"clearfix",staticStyle:{height:"1px","font-family":"站酷庆科黄油体"},attrs:{slot:"header"},slot:"header"},[s("span",{staticClass:"el-icon-s-flag",staticStyle:{"font-size":"20px",color:"#409eff"}},[t._v("权限树")]),s("el-tooltip",{attrs:{content:"删除角色",placement:"right",effect:"light"}},[s("el-button",{staticStyle:{float:"right",padding:"0 0",color:"#ff0000","font-size":"20px"},attrs:{icon:"el-icon-delete",type:"text"},on:{click:function(s){return t.deleteRole(e)}}})],1)],1),s("div",[s("el-tree",{key:n,ref:"tree",refInFor:!0,attrs:{accordion:"","show-checkbox":"","node-key":"id","default-checked-keys":t.selectedMenus,data:t.allmenus,props:t.defaultProps}}),s("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[s("el-button",{on:{click:t.cancelUpdate}},[t._v("取消修改")]),s("el-button",{attrs:{type:"primary"},on:{click:function(s){return t.doUpdate(e.id,n)}}},[t._v("确认修改")])],1)],1)])],1)})),1)],1),s("el-drawer",{attrs:{size:"50%",direction:"btt","custom-class":"drawerstyle",modal:!1,visible:t.table},on:{"update:visible":function(e){t.table=e}}},[s("ve-tree",{attrs:{data:t.chartData,settings:t.chartSettings}})],1)],1)},q=[],D={data:function(){return this.chartSettings={seriesMap:{tree1:{height:"100%",roam:!0,top:"10",bottom:"10",initialTreeDepth:3,lineStyle:{color:"#67C23A",width:1}}}},{chartData:{columns:["name","value"],rows:[{name:"tree1",value:this.allmenus}]},role:{name:"",namezh:""},allmenus:[],activeName:-1,selectedMenus:[],roles:[],loading:!1,globalLoading:!1,defaultProps:{children:"children",label:"name"},table:!1}},mounted:function(){this.initRoles(),this.initAllMenus()},methods:{deleteRole:function(t){var e=this;this.$confirm("此操作将永久删除【"+t.namezh+"】角色, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 角 色 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),e.deleteRequest("/system/basic/permiss/role/"+t.id).then((function(t){t&&e.initRoles()}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"删 除 取 消",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"})}))},doAddRole:function(){var t=this;this.role.name&&this.role.namezh?(this.$notify.success({title:"添加讯息",message:"添 加 角 色 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),this.postRequest("/system/basic/permiss/role/",this.role).then((function(e){e&&(t.role.name="",t.role.namezh="",t.initRoles())}))):this.$notify({title:"添加讯息",message:"添 加 字 段 不 可 以 为 空...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass",type:"warning"})},cancelUpdate:function(){this.activeName=-1,this.$notify.info({title:"修改讯息",message:" 修 改 取 消",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"})},doUpdate:function(t,e){var s=this;this.$notify.success({title:"修改讯息",message:" 修 改 角 色 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"});var n=this.$refs.tree[e],i=n.getCheckedKeys(!0),a="/system/basic/permiss/?rid="+t;i.forEach((function(t){a+="&mids="+t})),this.putRequest(a).then((function(t){t&&(s.activeName=-1)}))},change:function(t){t&&this.initSelectedMenus(t)},initSelectedMenus:function(t){var e=this;this.getRequest("/system/basic/permiss/mids/"+t).then((function(t){t&&(e.selectedMenus=t)}))},initAllMenus:function(){var t=this;this.getRequest("/system/basic/permiss/menus").then((function(e){e&&(t.allmenus=e,t.chartData.rows[0].value=t.allmenus)}))},initRoles:function(){var t=this;setTimeout((function(){t.$notify.success({title:"系统讯息",message:"角 色 权 限 信 息 加 载 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}),1100),this.loading=!0,this.getRequest("/system/basic/permiss/").then((function(e){t.loading=!1,e&&(t.roles=e)}))}}},M=D,P=(s("c06a"),Object(c["a"])(M,R,q,!1,null,null,null)),T=P.exports,O={name:"SysBasic",data:function(){return{activeName:"depmana"}},components:{DepMana:d,PosMana:y,JobLevelMana:k,EcMana:E,PermissMana:T}},V=O,B=Object(c["a"])(V,n,i,!1,null,"6d3a911e",null);e["default"]=B.exports},92632:function(t,e,s){},9790:function(t,e,s){},a73a:function(t,e,s){"use strict";var n=s("e574"),i=s.n(n);i.a},c06a:function(t,e,s){"use strict";var n=s("890c"),i=s.n(n);i.a},cf53:function(t,e,s){},d1a9:function(t,e,s){"use strict";var n=s("cf53"),i=s.n(n);i.a},d1e3:function(t,e,s){"use strict";s.r(e);var n=function(){var t=this,e=t.$createElement,s=t._self._c||e;return s("div",[t._v("备份恢复数据库")])},i=[],a={name:"SysData"},l=a,o=s("2877"),r=Object(o["a"])(l,n,i,!1,null,"090d2b14",null);e["default"]=r.exports},d5c6:function(t,e,s){},e07a:function(t,e,s){},e574:function(t,e,s){},f503:function(t,e,s){"use strict";var n=s("3d7e"),i=s.n(n);i.a},f671:function(t,e,s){"use strict";var n=s("d5c6"),i=s.n(n);i.a}}]);
//# sourceMappingURL=chunk-49864f78.32586c1b.js.map