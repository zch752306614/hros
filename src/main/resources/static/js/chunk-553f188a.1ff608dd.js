(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-553f188a"],{"0610":function(e,t,i){"use strict";var a=i("0fb5"),s=i.n(a);s.a},"0d25":function(e,t,i){},"0fb5":function(e,t,i){},"107d":function(e,t,i){},"117a":function(e,t,i){"use strict";var a=i("21d3"),s=i.n(a);s.a},"21d3":function(e,t,i){},"25fd":function(e,t,i){"use strict";var a=i("3b62"),s=i.n(a);s.a},"2c21":function(e,t,i){"use strict";var a=i("0d25"),s=i.n(a);s.a},"3b62":function(e,t,i){},"4c87":function(e,t,i){"use strict";var a=i("f650"),s=i.n(a);s.a},"50e8":function(e,t,i){"use strict";var a=i("b7e5"),s=i.n(a);s.a},5865:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[e._v(" 员工资料 ")])},s=[],n={name:"PerEmp"},l=n,o=i("2877"),r=Object(o["a"])(l,a,s,!1,null,"3547bc42",null);t["default"]=r.exports},"5a4a":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"top-style"},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initEmps}},[e._v(" 搜索 ")])],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-dialog",{attrs:{title:"员工调动",visible:e.dialogVisible,width:"40%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("el-form",{ref:"empForm",attrs:{model:e.emp,rules:e.rules}},[i("el-row",[i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"调动后职位:",prop:"posid"}},[i("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"职位"},model:{value:e.emp.posid,callback:function(t){e.$set(e.emp,"posid",t)},expression:"emp.posid"}},e._l(e.positions,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1)],1),i("el-col",{attrs:{span:6}},[i("el-form-item",{attrs:{label:"调动后部门:",prop:"departmentid"}},[i("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.popVisible,callback:function(t){e.popVisible=t},expression:"popVisible"}},[i("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.handleNodeClick}}),i("div",{staticStyle:{width:"150px",display:"inline-flex","font-size":"19px",border:"1px solid #dedede",height:"38px","border-radius":"5px",cursor:"pointer","align-items":"center","box-sizing":"border-box"},attrs:{slot:"reference"},on:{click:function(t){return e.showDepView1()}},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1)],1)],1)],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmp}},[e._v("确 定")])],1)])],1)]),i("el-divider"),i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"695px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"685","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-form",{staticClass:"demo-table-expand",attrs:{"label-position":"left",inline:""}},[i("el-form-item",{attrs:{label:"性别:"}},[i("span",[e._v(e._s(t.row.gender))])]),i("el-form-item",{attrs:{label:"出生日期:"}},[i("span",[e._v(e._s(t.row.birthday))])]),i("el-form-item",{attrs:{label:"身份证号码:"}},[i("span",[e._v(e._s(t.row.idcard))])]),i("el-form-item",{attrs:{label:"电子邮件:"}},[i("span",[e._v(e._s(t.row.email))])]),i("el-form-item",{attrs:{label:"电话号码:"}},[i("span",[e._v(e._s(t.row.phone))])]),i("el-form-item",{attrs:{label:"最高学历:"}},[i("span",[e._v(e._s(t.row.tiptopdegree))])]),i("el-form-item",{attrs:{label:"专业:"}},[i("span",[e._v(e._s(t.row.specialty))])]),i("el-form-item",{attrs:{label:"毕业院校:"}},[i("span",[e._v(e._s(t.row.school))])])],1)]}}])}),i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"department.name",align:"left",label:"所属部门"}}),i("el-table-column",{attrs:{prop:"position.name",label:"职位"}}),i("el-table-column",{attrs:{prop:"jobLevel.name",label:"职称"}}),i("el-table-column",{attrs:{prop:"engageform",align:"left",label:"聘用形式"}}),i("el-table-column",{attrs:{prop:"begindate",align:"left",label:"入职日期"}}),i("el-table-column",{attrs:{prop:"begincontract",align:"left",label:"合同起始日期"}}),i("el-table-column",{attrs:{prop:"endcontract",align:"left",label:"合同截止日期"}}),i("el-table-column",{attrs:{align:"left",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.contractterm))]),e._v(" 年 ")]}}])}),i("el-table-column",{attrs:{width:"200",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.showEditEmpView(t.row)}}},[e._v("调动 ")])]}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[13,33,333,,3333]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)],1)},s=[],n=(i("4160"),i("b0c0"),i("159b"),{name:"PerSalary",data:function(){return{multipleSelection:[],searchValue:{politicid:null,nationid:null,joblevelid:null,posid:null,engageform:null,departmentid:null,beginDateScope:null},title:"",importDataBtnText:"导入数据",importDataBtnIcon:"el-icon-upload2",importDataDisabled:!1,showAdvanceSearchView:!1,allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,total:0,page:1,keyword:"",size:13,nations:[],joblevels:[],politicsstatus:[],positions:[],tiptopDegrees:["本科","大专","硕士","博士","高中","初中","小学","其他"],options:[{value:"",label:""}],inputDepName:"所属部门",emp:{id:"",name:"小明",gender:"男",birthday:"1995-10-08",idcard:"610122199001011256",wedlock:"已婚",nationid:1,nativeplace:"内蒙古",politicid:13,email:"1224965096@qq.com",phone:"18565558897",address:"内蒙古呼和浩特",departmentid:29,joblevelid:9,posid:29,engageform:"劳务合同",tiptopdegree:"本科",specialty:"信息与计算科学",school:"集宁师范学院",begindate:"2017-12-31",workstate:"在职",workid:"",contractterm:2,conversiontime:"2018-03-31",notworkdate:null,begincontract:"2017-12-31",endcontract:"2019-12-31",workage:null},defaultProps:{children:"children",label:"name"},rules:{name:[{required:!0,message:"请输入用户名",trigger:"blur"}],gender:[{required:!0,message:"请输入性别",trigger:"blur"}],birthday:[{required:!0,message:"请输入出生日期",trigger:"blur"}],idcard:[{required:!0,message:"请输入身份证号码",trigger:"blur"},{pattern:/(^[1-9]\d{5}(18|19|([23]\d))\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{3}[0-9Xx]$)|(^[1-9]\d{5}\d{2}((0[1-9])|(10|11|12))(([0-2][1-9])|10|20|30|31)\d{2}$)/,message:"身份证号码格式不正确",trigger:"blur"}],wedlock:[{required:!0,message:"请输入婚姻状况",trigger:"blur"}],nationid:[{required:!0,message:"请输入民族",trigger:"blur"}],nativePlace:[{required:!0,message:"请输入籍贯",trigger:"blur"}],politicId:[{required:!0,message:"请输入政治面貌",trigger:"blur"}],email:[{required:!0,message:"请输入邮箱地址",trigger:"blur"},{type:"email",message:"邮箱格式不正确",trigger:"blur"}],phone:[{required:!0,message:"请输入电话号码",trigger:"blur"}],address:[{required:!0,message:"请输入员工地址",trigger:"blur"}],departmentid:[{required:!0,message:"请输入部门名称",trigger:"blur"}],joblevelid:[{required:!0,message:"请输入职称",trigger:"blur"}],posid:[{required:!0,message:"请输入职位",trigger:"blur"}],engageform:[{required:!0,message:"请输入聘用形式",trigger:"blur"}],tiptopdegree:[{required:!0,message:"请输入学历",trigger:"blur"}],specialty:[{required:!0,message:"请输入专业",trigger:"blur"}],school:[{required:!0,message:"请输入毕业院校",trigger:"blur"}],begindate:[{required:!0,message:"请输入入职日期",trigger:"blur"}],workstate:[{required:!0,message:"请输入工作状态",trigger:"blur"}],workid:[{required:!0,message:"请输入工号",trigger:"blur"}],contractterm:[{required:!0,message:"请输入合同期限",trigger:"blur"}],conversiontime:[{required:!0,message:"请输入转正日期",trigger:"blur"}],notworkdate:[{required:!0,message:"请输入离职日期",trigger:"blur"}],begincontract:[{required:!0,message:"请输入合同起始日期",trigger:"blur"}],endcontract:[{required:!0,message:"请输入合同结束日期",trigger:"blur"}],workage:[{required:!0,message:"请输入工龄",trigger:"blur"}]}}},mounted:function(){this.initEmps(),this.initData(),this.initPositions()},methods:{deleteMany:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 员 工 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"});var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/employee/basic/many/"+t).then((function(t){t&&e.initEmps()}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},handleSelectionChange:function(e){this.multipleSelection=e},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},onError:function(){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1},onSuccess:function(){this.importDataBtnText="导入数据",this.importDataBtnIcon="el-icon-upload2",this.importDataDisabled=!1,this.initEmps()},beforeUpload:function(){this.importDataBtnText="正在导入",this.importDataBtnIcon="fa fa-circle-o-notch fa-spin  fa-fw",this.importDataDisabled=!0},exportData:function(){window.open("/employee/basic/export","_parent")},emptyEmp:function(){this.emp={id:"",name:"小明",gender:"男",birthday:"1995-10-08",idcard:"610122199001011256",wedlock:"已婚",nationid:1,nativeplace:"内蒙古",politicid:13,email:"1224965096@qq.com",phone:"18565558897",address:"内蒙古呼和浩特",departmentid:8,joblevelid:9,posid:29,engageform:"劳务合同",tiptopdegree:"本科",specialty:"信息与计算科学",school:"集宁师范学院",begindate:"2017-12-31",workstate:"在职",workid:"",contractterm:2,conversiontime:"2018-03-31",notworkdate:null,begincontract:"2017-12-31",endcontract:"2019-12-31",workage:null},this.inputDepName=""},showEditEmpView:function(e){this.initPositions(),this.title="编辑员工信息",this.emp=e,this.inputDepName=e.department.name,this.dialogVisible=!0},deleteEmp:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.name+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$notify.success({title:"删除讯息",message:"删 除 员 工 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/employee/basic/"+e.id).then((function(e){e&&t.initEmps()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},doAddEmp:function(){var e=this;this.emp.id?this.$refs["empForm"].validate((function(t){t&&(e.$notify.success({title:"修改讯息",message:" 修 改 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),e.putRequest("/employee/basic/",e.emp).then((function(t){t&&(e.dialogVisible=!1,e.initEmps())})))})):this.$refs["empForm"].validate((function(t){t&&(e.$notify.success({title:"添加讯息",message:"添 加 员 工 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),e.postRequest("/employee/basic/",e.emp).then((function(t){t&&(e.dialogVisible=!1,e.initEmps())})))}))},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},showDepView:function(){this.popVisible1=!this.popVisible1},showDepView1:function(){this.popVisible=!this.popVisible},initPositions:function(){var e=this;this.getRequest("/employee/basic/positions").then((function(t){t&&(e.positions=t)}))},getMaxWordID:function(){var e=this;this.getRequest("/employee/basic/maxWorkID").then((function(t){t&&(e.emp.workid=t.obj)}))},initData:function(){var e=this;window.sessionStorage.getItem("nations")?this.nations=JSON.parse(window.sessionStorage.getItem("nations")):this.getRequest("/employee/basic/nations").then((function(t){t&&(e.nations=t,window.sessionStorage.setItem("nations",JSON.stringify(t)))})),window.sessionStorage.getItem("joblevels")?this.joblevels=JSON.parse(window.sessionStorage.getItem("joblevels")):this.getRequest("/employee/basic/joblevels").then((function(t){t&&(e.joblevels=t,window.sessionStorage.setItem("joblevels",JSON.stringify(t)))})),window.sessionStorage.getItem("politicsstatus")?this.politicsstatus=JSON.parse(window.sessionStorage.getItem("politicsstatus")):this.getRequest("/employee/basic/politicsstatus").then((function(t){t&&(e.politicsstatus=t,window.sessionStorage.setItem("politicsstatus",JSON.stringify(t)))})),window.sessionStorage.getItem("deps")?this.allDeps=JSON.parse(window.sessionStorage.getItem("deps")):this.getRequest("/employee/basic/deps").then((function(t){t&&(e.allDeps=t,window.sessionStorage.setItem("deps",JSON.stringify(t)))}))},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},showAddEmpView:function(){this.emptyEmp(),this.title="添加员工",this.getMaxWordID(),this.dialogVisible=!0},initEmps:function(e){var t=this;this.loading=!0;var i="/employee/basic/?page="+this.page+"&size="+this.size;e&&"advanced"==e?(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.searchValue.politicid&&(i+="&politicid="+this.searchValue.politicid),this.searchValue.nationid&&(i+="&nationid="+this.searchValue.nationid),this.searchValue.joblevelid&&(i+="&joblevelid="+this.searchValue.joblevelid),this.searchValue.posid&&(i+="&posid="+this.searchValue.posid),this.searchValue.engageform&&(i+="&engageform="+this.searchValue.engageform),this.searchValue.departmentid&&(i+="&departmentid="+this.searchValue.departmentid),this.searchValue.beginDateScope&&(i+="&beginDateScope="+this.searchValue.beginDateScope)):this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),i+="&name="+this.keyword),this.getRequest(i).then((function(e){t.loading=!1,e&&(t.emps=e.data,t.total=e.total,t.searchValue=[],t.keyword="")}))}}}),l=n,o=(i("5d83"),i("2877")),r=Object(o["a"])(l,a,s,!1,null,null,null);t["default"]=r.exports},"5d83":function(e,t,i){"use strict";var a=i("107d"),s=i.n(a);s.a},"75cb":function(e,t,i){},"83ed":function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"添加培训",name:"Addtrain"}},[i("Addtrain")],1),i("el-tab-pane",{attrs:{label:"培训管理",name:"Magtrain"}},[i("Magtrain")],1),i("el-tab-pane",{attrs:{label:"添加考评",name:"AddAppr"}},[i("AddAppr")],1),i("el-tab-pane",{attrs:{label:"考评管理",name:"MagAppr"}},[i("MagAppr")],1)],1)]],2)},s=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"680px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"690","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",customClass:e.loadingstyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"left",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"department.name",width:"100",align:"left",label:"所属部门"}}),i("el-table-column",{attrs:{prop:"position.name",width:"120",label:"职位",filters:e.data,"filter-method":e.filterTag,"filter-placement":"bottom-end"}}),i("el-table-column",{attrs:{prop:"jobLevel.name",width:"120",label:"职称",filters:e.data1,"filter-method":e.filterTag1,"filter-placement":"bottom-end"}}),i("el-table-column",{attrs:{prop:"begindate",width:"95",align:"left",label:"入职日期"}}),i("el-table-column",{attrs:{prop:"conversiontime",width:"95",align:"left",label:"转正日期"}}),i("el-table-column",{attrs:{prop:"begincontract",width:"120",align:"left",label:"合同起始日期"}}),i("el-table-column",{attrs:{prop:"endcontract",width:"120",align:"left",label:"合同截止日期"}}),i("el-table-column",{attrs:{align:"left",width:"120",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.contractterm))]),e._v(" 年 ")]}}])}),i("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入员工名进行搜索","prefix-icon":"el-icon-search",clearable:"",value:t,disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})]}},{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.showEditEmpView(t.row)}}},[e._v("添加培训 ")])]}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"success",disabled:0==e.multipleSelection.length},on:{click:e.addMany}},[e._v("批量培训 ")]),i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[13,33,333,,3333]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),i("el-dialog",{attrs:{title:"添加培训",visible:e.dialogVisible,width:"25%",center:""},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"培训内容"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入培训内容...",maxlength:"30","show-word-limit":""},model:{value:e.employeetrain.traincontent,callback:function(t){e.$set(e.employeetrain,"traincontent",t)},expression:"employeetrain.traincontent"}})],1),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入备注...",maxlength:"30","show-word-limit":""},model:{value:e.employeetrain.remark,callback:function(t){e.$set(e.employeetrain,"remark",t)},expression:"employeetrain.remark"}})],1),i("el-form-item",{attrs:{label:"培训周期"}},[i("el-date-picker",{attrs:{type:"daterange","value-format":"yyyy-MM-dd","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期"},model:{value:e.beginDateScope,callback:function(t){e.beginDateScope=t},expression:"beginDateScope"}})],1),i("el-steps",{staticStyle:{"margin-top":"20px"},attrs:{active:e.number,space:200,"align-center":"","finish-status":"success"}},[i("el-step",{attrs:{title:"添加培训"}}),i("el-step",{attrs:{title:"进行中"}}),i("el-step",{attrs:{title:"培训完成"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmc}},[e._v("添 加")])],1)],1)],1)},l=[],o=(i("4160"),i("b0c0"),i("159b"),{name:"Addjc",inject:["reload"],data:function(){return{data:[],datas:null,data1:[],value:[],number:1,textarea:"",multipleSelection:[],centerDialogVisible:!1,beginDateScope:[],title:"",allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,dialogVisibles:!1,positions:[],joblevels:[],total:0,page:1,keyword:"",size:13,defaultProps:{children:"children",label:"name"},employeetrain:{eid:"",trainstartdate:"",trainfinishdate:"",traincontent:"",trainstatus:"",remark:""},appraise:{id:"",eid:"",appdate:"",appresult:"",appcontent:"",remark:""}}},mounted:function(){this.initEmps(),this.initjob(),this.initPositions()},methods:{addMany:function(){this.dialogVisible=!0},initjob:function(){var e=this;this.getRequest("/personnel/train/joblevels").then((function(t){t&&(e.joblevels=t,e.generateData1(e.joblevels))}))},initPositions:function(){var e=this;this.getRequest("/personnel/train/positions").then((function(t){t&&(e.positions=t,e.generateData(e.positions))}))},showEditEmpView:function(e){this.dialogVisible=!0,this.employeetrain.eid=e.id},showEmpView:function(e){this.appraise.eid=e.id,this.dialogVisibles=!0},handleSelectionChange:function(e){this.multipleSelection=e},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},doAddEmc:function(){var e=this;if(this.employeetrain.trainstartdate=this.beginDateScope[0],this.employeetrain.trainfinishdate=this.beginDateScope[1],this.employeetrain.trainstatus=this.number,this.employeetrain.trainstatus&&(this.employeetrain.eid||0!=this.multipleSelection.length)&&this.employeetrain.traincontent&&this.employeetrain.remark&&this.employeetrain.trainstartdate&&this.employeetrain.trainfinishdate)if(this.number=2,setTimeout((function(){e.dialogVisible=!1}),1e3),this.$notify.success({title:"添加讯息",message:"添 加 培 训 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),0!=this.multipleSelection.length){var t="&";this.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"}));var i="?trainstartdate="+this.employeetrain.trainstartdate+"&trainfinishdate="+this.employeetrain.trainfinishdate+"&traincontent="+this.employeetrain.traincontent+"&trainstatus="+this.employeetrain.trainstatus+"&remark="+this.employeetrain.remark;this.getRequest("/personnel/train/addt"+i+t+"beginDateScope="+this.beginDateScope).then((function(t){t&&(e.reload(),e.this.employeetrain=null,e.multipleSelection=null)}))}else this.postRequest("/personnel/train/",this.employeetrain).then((function(t){t&&(e.reload(),e.employeetrain={},e.number=1)}));else this.$notify({title:"添加讯息",message:"添 加 字 段 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},initEmps:function(e){var t=this;this.loading=!0;var i="/personnel/train/init?page="+this.page+"&size="+this.size;e&&"advanced"==e?this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}):this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),i+="&name="+this.keyword),this.getRequest(i).then((function(e){t.loading=!1,e&&(t.emps=e.data,t.total=e.total,t.searchValue=[],t.keyword="")}))},filterTag:function(e,t){return t.posid===e},filterTag1:function(e,t){return t.joblevelid===e},generateData:function(e){var t=this;e.forEach((function(e){t.data.push({text:e.name,value:e.id})}))},generateData1:function(e){var t=this;e.forEach((function(e){t.data1.push({text:e.name,value:e.id})}))}}}),r=o,p=(i("117a"),i("2877")),c=Object(p["a"])(r,n,l,!1,null,"895b649e",null),d=c.exports,u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"680px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"690","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",customClass:e.loadingstyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"selection",width:"55"}}),i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"left",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"department.name",width:"100",align:"left",label:"所属部门"}}),i("el-table-column",{attrs:{prop:"position.name",width:"120",label:"职位",filters:e.data,"filter-method":e.filterTag,"filter-placement":"bottom-end"}}),i("el-table-column",{attrs:{prop:"jobLevel.name",width:"120",label:"职称",filters:e.data1,"filter-method":e.filterTag1,"filter-placement":"bottom-end"}}),i("el-table-column",{attrs:{prop:"begindate",width:"95",align:"left",label:"入职日期"}}),i("el-table-column",{attrs:{prop:"conversiontime",width:"95",align:"left",label:"转正日期"}}),i("el-table-column",{attrs:{prop:"begincontract",width:"120",align:"left",label:"合同起始日期"}}),i("el-table-column",{attrs:{prop:"endcontract",width:"120",align:"left",label:"合同截止日期"}}),i("el-table-column",{attrs:{align:"left",width:"120",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.contractterm))]),e._v(" 年 ")]}}])}),i("el-table-column",{attrs:{align:"center"},scopedSlots:e._u([{key:"header",fn:function(t){return[i("el-input",{staticStyle:{width:"200px"},attrs:{placeholder:"请输入员工名进行搜索","prefix-icon":"el-icon-search",clearable:"",value:t,disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}})]}},{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.showEmpView(t.row)}}},[e._v("添加考评 ")])]}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-button",{staticStyle:{"margin-top":"10px"},attrs:{type:"success",disabled:0==e.multipleSelection.length},on:{click:e.addMany}},[e._v("批量考评 ")]),i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[13,33,333,,3333]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),i("el-dialog",{attrs:{title:"添加考评",visible:e.dialogVisibles,width:"25%",center:""},on:{"update:visible":function(t){e.dialogVisibles=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"考评内容"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"appraise.appcontent",placeholder:"请输入考评内容...",maxlength:"30","show-word-limit":""},model:{value:e.appraise.appcontent,callback:function(t){e.$set(e.appraise,"appcontent",t)},expression:"appraise.appcontent"}})],1),i("el-form-item",{attrs:{label:"考评日期"}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.appraise.appdate,callback:function(t){e.$set(e.appraise,"appdate",t)},expression:"appraise.appdate"}})],1),i("el-form-item",{attrs:{label:"考评备注"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入备注...",maxlength:"30","show-word-limit":""},model:{value:e.appraise.remark,callback:function(t){e.$set(e.appraise,"remark",t)},expression:"appraise.remark"}})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","margin-right":"10px","margin-left":"10px"}},[i("div",{staticStyle:{"margin-right":"10px"}},[e._v(" 考评结果: ")]),i("el-rate",{attrs:{"show-text":""},model:{value:e.appraise.appresult,callback:function(t){e.$set(e.appraise,"appresult",t)},expression:"appraise.appresult"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisibles=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddrp}},[e._v("添 加")])],1)],1)],1)},m=[],h={name:"AddAppr",inject:["reload"],data:function(){return{data:[],datas:null,data1:[],value:[],number:1,textarea:"",multipleSelection:[],centerDialogVisible:!1,beginDateScope:[],title:"",allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,dialogVisibles:!1,positions:[],joblevels:[],total:0,page:1,keyword:"",size:13,defaultProps:{children:"children",label:"name"},employeetrain:{eid:"",trainstartdate:"",trainfinishdate:"",traincontent:"",trainstatus:"",remark:""},appraise:{id:"",eid:"",appdate:"",appresult:"",appcontent:"",remark:""}}},mounted:function(){this.initEmps(),this.initjob(),this.initPositions()},methods:{doAddrp:function(){this.dialogVisibles=!1,this.doAddEmc()},addMany:function(){this.dialogVisibles=!0},initjob:function(){var e=this;this.getRequest("/personnel/train/joblevels").then((function(t){t&&(e.joblevels=t,e.generateData1(e.joblevels))}))},initPositions:function(){var e=this;this.getRequest("/personnel/train/positions").then((function(t){t&&(e.positions=t,e.generateData(e.positions))}))},showEditEmpView:function(e){this.dialogVisible=!0,this.employeetrain.eid=e.id},showEmpView:function(e){this.appraise.eid=e.id,this.dialogVisibles=!0},handleSelectionChange:function(e){this.multipleSelection=e},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},doAddEmc:function(){var e=this;if(this.appraise.appdate&&(this.appraise.eid||0!=this.multipleSelection.length)&&this.appraise.appresult&&this.appraise.remark&&this.appraise.appcontent)if(this.$notify.success({title:"添加讯息",message:"添 加 考 评 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),0!=this.multipleSelection.length){var t="&";this.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"}));var i="?appdate="+this.appraise.appdate+"&appresult="+this.appraise.appresult+"&remark="+this.appraise.remark+"&appcontent="+this.appraise.appcontent;this.getRequest("/personnel/train/adda"+i+t).then((function(t){t&&(e.reload(),e.this.appraise=null,e.multipleSelection=null)}))}else this.postRequest("/personnel/train/add",this.appraise).then((function(t){t&&(e.reload(),e.appraise={})}));else this.$notify({title:"添加讯息",message:"添 加 字 段 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},initEmps:function(e){var t=this;this.loading=!0;var i="/personnel/train/inia?page="+this.page+"&size="+this.size;e&&"advanced"==e?this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}):this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),i+="&name="+this.keyword),this.$notify.success({title:"系统讯息",message:" 员 工 信 息 加 载 中...",showClose:!1,offset:50,duration:4e3,customClass:"fontclass"}),this.getRequest(i).then((function(e){t.loading=!1,e&&(t.emps=e.data,t.total=e.total,t.searchValue=[],t.keyword="")}))},filterTag:function(e,t){return t.posid===e},filterTag1:function(e,t){return t.joblevelid===e},generateData:function(e){var t=this;e.forEach((function(e){t.data.push({text:e.name,value:e.id})}))},generateData1:function(e){var t=this;e.forEach((function(e){t.data1.push({text:e.name,value:e.id})}))}}},f=h,g=(i("2c21"),Object(p["a"])(f,u,m,!1,null,"124fbbcb",null)),b=g.exports,y=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"top-style"},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initEmps}},[e._v(" 搜索 ")])],1)]),i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"695px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"652",height:"690","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",customClass:e.loadingstyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",fixed:"",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"left",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"employeetrainList.traincontent",align:"left",label:"培训内容"}}),i("el-table-column",{attrs:{prop:"employeetrainList.trainstartdate",align:"left",width:"110",label:"培训开始时间"}}),i("el-table-column",{attrs:{prop:"employeetrainList.trainfinishdate",align:"left",width:"110",label:"培训结束时间"}}),i("el-table-column",{attrs:{prop:"employeetrainList.remark",align:"left",width:"150",label:"备注"}}),i("el-table-column",{attrs:{prop:"employeetrainList.trainstatus",align:"left",width:"300",label:"培训进度"},scopedSlots:e._u([{key:"default",fn:function(e){return[i("el-progress",{attrs:{"text-inside":!0,"stroke-width":15,percentage:20*e.row.employeetrainList.trainstatus,status:"success"}})]}}])}),i("el-table-column",{attrs:{align:"left",width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},on:{click:function(i){return e.showEditEmpView(t.row)}}},[e._v("编辑 ")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"danger"},on:{click:function(i){return e.deletepet(t.row)}}},[e._v(" 取消培训 ")])]}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[12,22,33,,44]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),i("el-dialog",{attrs:{title:"培训修改",center:"",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"培训内容"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入培训内容...",maxlength:"30","show-word-limit":""},model:{value:e.employeetrain.traincontent,callback:function(t){e.$set(e.employeetrain,"traincontent",t)},expression:"employeetrain.traincontent"}})],1),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入备注...",maxlength:"30","show-word-limit":""},model:{value:e.employeetrain.remark,callback:function(t){e.$set(e.employeetrain,"remark",t)},expression:"employeetrain.remark"}})],1),i("el-form-item",{attrs:{label:"培训周期"}},[i("el-date-picker",{attrs:{type:"daterange",align:"right","unlink-panels":"","range-separator":"至","start-placeholder":"开始日期","end-placeholder":"结束日期","picker-options":e.pickerOptions},model:{value:e.beginDateScope,callback:function(t){e.beginDateScope=t},expression:"beginDateScope"}})],1),i("el-form-item",{attrs:{label:"培训进度"}},[i("el-slider",{staticStyle:{color:"#67C23A"},attrs:{step:20,min:20,max:100,"show-stops":""},model:{value:e.number,callback:function(t){e.number=t},expression:"number"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.updateept}},[e._v("修 改")])],1)],1)],1)},w=[],v={name:"Magtrain",data:function(){return{data:[],value:[],textarea:"",number:"",multipleSelection:[],beginDateScope:[],title:"",allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,total:0,page:1,keyword:"",size:14,defaultProps:{children:"children",label:"name"},employeetrain:{id:null,eid:"",trainstartdate:"",trainfinishdate:"",traincontent:"",trainstatus:"",remark:""},eid:"",id:""}},mounted:function(){this.initEmps(),this.initPositions()},methods:{deletepet:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.employeetrainList.traincontent+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$notify.success({title:"删除讯息",message:"删 除 培 训 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/personnel/train/"+e.employeetrainList.eid+"/"+e.employeetrainList.id).then((function(e){e&&t.initEmps()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},filterTag:function(e,t){return t.tag===e},updateept:function(){var e=this;this.employeetrain.trainstatus=this.number/20,this.employeetrain.trainstartdate=this.beginDateScope[0],this.employeetrain.trainfinishdate=this.beginDateScope[1],this.employeetrain.trainstatus&&this.employeetrain.eid&&this.employeetrain.traincontent&&this.employeetrain.remark&&this.employeetrain.trainstartdate&&this.employeetrain.trainfinishdate?(this.$notify.success({title:"修改讯息",message:"修 改 培 训 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),this.putRequest("/personnel/train/",this.employeetrain).then((function(t){t&&(e.dialogVisible=!1,e.employeetrain={},e.initEmps())}))):this.$notify({title:"添加讯息",message:"添 加 字 段 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},showEditEmpView:function(e){this.employeetrain=e.employeetrainList,this.beginDateScope[0]=this.employeetrain.trainstartdate,this.beginDateScope[1]=this.employeetrain.trainfinishdate,this.number=20*this.employeetrain.trainstatus,this.dialogVisible=!0},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},initEmps:function(){var e=this;this.loading=!0;var t="/personnel/train/?page="+this.page+"&size="+this.size;this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),t+="&name="+this.keyword),this.$notify.success({title:"系统讯息",message:" 培 训 信 息 加 载 中...",showClose:!1,offset:150,duration:4e3,customClass:"fontclass"}),this.getRequest(t).then((function(t){e.loading=!1,t&&(e.emps=t.data,e.total=t.total,e.searchValue=[],e.keyword="")}))}}},k=v,x=(i("25fd"),Object(p["a"])(k,y,w,!1,null,"e802898a",null)),S=x.exports,V=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"top-style"},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initEmps}},[e._v(" 搜索 ")])],1)]),i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"695px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"652",height:"690","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",fixed:"",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"left",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"appraise.appcontent",align:"left",label:"考评内容"}}),i("el-table-column",{attrs:{prop:"appraise.appdate",align:"left",width:"110",label:"考评时间"}}),i("el-table-column",{attrs:{prop:"appraise.remark",align:"left",width:"150",label:"备注"}}),i("el-table-column",{attrs:{prop:"appraise.appresult",align:"left",width:"250",label:"考评结果"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-rate",{attrs:{"show-text":"",disabled:""},model:{value:t.row.appraise.appresult,callback:function(i){e.$set(t.row.appraise,"appresult",i)},expression:"scope.row.appraise.appresult"}})]}}])}),i("el-table-column",{attrs:{align:"left",width:"150",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},on:{click:function(i){return e.showEditEmpView(t.row)}}},[e._v("编辑 ")]),i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"danger"},on:{click:function(i){return e.deletepet(t.row)}}},[e._v(" 取消考评 ")])]}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[12,22,33,,44]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),i("el-dialog",{attrs:{title:"考评修改",center:"",visible:e.dialogVisible,width:"25%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("el-form",{ref:"form",attrs:{model:e.form,"label-width":"80px"}},[i("el-form-item",{attrs:{label:"考评内容"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入考评内容...",maxlength:"30","show-word-limit":""},model:{value:e.appraise.appcontent,callback:function(t){e.$set(e.appraise,"appcontent",t)},expression:"appraise.appcontent"}})],1),i("el-form-item",{attrs:{label:"考评日期"}},[i("el-date-picker",{attrs:{type:"date","value-format":"yyyy-MM-dd",placeholder:"选择日期"},model:{value:e.appraise.appdate,callback:function(t){e.$set(e.appraise,"appdate",t)},expression:"appraise.appdate"}})],1),i("el-form-item",{attrs:{label:"备注"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入备注...",maxlength:"30","show-word-limit":""},model:{value:e.appraise.remark,callback:function(t){e.$set(e.appraise,"remark",t)},expression:"appraise.remark"}})],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-start","margin-right":"10px","margin-left":"10px"}},[i("div",{staticStyle:{"margin-right":"10px"}},[e._v(" 考评结果: ")]),i("el-rate",{attrs:{"show-text":""},model:{value:e.appraise.appresult,callback:function(t){e.$set(e.appraise,"appresult",t)},expression:"appraise.appresult"}})],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.updateept}},[e._v("修 改")])],1)],1)],1)},C=[],E={name:"Magtrain",data:function(){return{data:[],value:[],textarea:"",number:"",multipleSelection:[],beginDateScope:[],title:"",allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,total:0,page:1,keyword:"",size:12,defaultProps:{children:"children",label:"name"},appraise:{id:"",eid:"",appdate:"",appresult:"",appcontent:"",remark:""},eid:"",id:""}},mounted:function(){this.initEmps(),this.initPositions()},methods:{deletepet:function(e){var t=this;this.$confirm("此操作将永久删除【"+e.appraise.appcontent+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$notify.success({title:"删除讯息",message:"删 除 培 训 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/personnel/train/app/"+e.appraise.eid+"/"+e.appraise.id).then((function(e){e&&t.initEmps()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},filterTag:function(e,t){return t.tag===e},updateept:function(){var e=this;this.appraise.appdate&&this.appraise.eid&&this.appraise.appcontent&&this.appraise.remark&&this.appraise.appresult?(this.$notify.success({title:"修改讯息",message:"修 改 考 评 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),this.putRequest("/personnel/train/app",this.appraise).then((function(t){t&&(e.dialogVisible=!1,e.employeetrain={},e.initEmps())}))):this.$notify({title:"添加讯息",message:"添 加 字 段 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},showEditEmpView:function(e){this.appraise=e.appraise,this.dialogVisible=!0},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},initEmps:function(){var e=this;this.loading=!0;var t="/personnel/train/initapp?page="+this.page+"&size="+this.size;this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),t+="&name="+this.keyword),this.$notify.success({title:"系统讯息",message:" 考 评 信 息 加 载 中...",showClose:!1,offset:200,duration:4e3,customClass:"fontclass"}),this.getRequest(t).then((function(t){e.loading=!1,t&&(e.emps=t.data,e.total=t.total,e.searchValue=[],e.keyword="")}))}}},_=E,D=(i("0610"),Object(p["a"])(_,V,C,!1,null,"80ae51de",null)),j=D.exports,$={name:"PerTrain",data:function(){return{activeName:"Addtrain",data:{}}},methods:{},components:{Addtrain:d,AddAppr:b,Magtrain:S,MagAppr:j}},z=$,N=Object(p["a"])(z,a,s,!1,null,"79bed1a9",null);t["default"]=N.exports},ac75:function(e,t,i){"use strict";var a=i("75cb"),s=i.n(a);s.a},b7e5:function(e,t,i){},cfbb:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"top-style"},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initEmps}},[e._v(" 搜索 ")])],1),i("div",{staticStyle:{display:"flex","justify-content":"flex-end"}},[i("el-dialog",{attrs:{title:"员工调动",center:"",visible:e.dialogVisible,width:"30%"},on:{"update:visible":function(t){e.dialogVisible=t}}},[i("div",[i("el-form",{ref:"empForm",attrs:{model:e.emp,rules:e.rules}},[i("el-form-item",{attrs:{label:"调动职称:",prop:"posid"}},[i("el-select",{staticStyle:{width:"150px"},attrs:{placeholder:"职位"},model:{value:e.emp.joblevelid,callback:function(t){e.$set(e.emp,"joblevelid",t)},expression:"emp.joblevelid"}},e._l(e.joblevels,(function(e){return i("el-option",{key:e.id,attrs:{label:e.name,value:e.id}})})),1)],1),i("el-form-item",{attrs:{label:"调动部门:",prop:"departmentid"}},[i("el-popover",{attrs:{placement:"right",title:"请选择部门",width:"200",trigger:"manual"},model:{value:e.popVisible,callback:function(t){e.popVisible=t},expression:"popVisible"}},[i("el-tree",{attrs:{"default-expand-all":"",data:e.allDeps,props:e.defaultProps},on:{"node-click":e.handleNodeClick}}),i("div",{staticStyle:{width:"150px",display:"inline-flex","font-size":"15px",border:"1px solid #dedede",height:"38px","border-radius":"5px",cursor:"pointer","align-items":"center","box-sizing":"border-box"},attrs:{slot:"reference"},on:{click:function(t){return e.showDepView1()}},slot:"reference"},[e._v(e._s(e.inputDepName)+" ")])],1)],1),i("el-form-item",{attrs:{label:"调动原因:"}},[i("el-input",{staticStyle:{width:"350px","margin-bottom":"10px"},attrs:{type:"textarea",placeholder:"请输入...",maxlength:"30","show-word-limit":""},model:{value:e.emp.workstate,callback:function(t){e.$set(e.emp,"workstate",t)},expression:"emp.workstate"}})],1)],1)],1),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.dialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmp}},[e._v("确 定")])],1)])],1)]),i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"695px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"685","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw"},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{type:"expand"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-table",{staticStyle:{width:"100%"},attrs:{data:t.row.employeeremoveList,"row-class-name":e.tableRowClassName}},[i("el-table-column",{attrs:{prop:"department.name",label:"调动部门",width:"180"}}),i("el-table-column",{attrs:{prop:"jobLevel.name",label:"调动职称",width:"180"}}),i("el-table-column",{attrs:{prop:"reason",label:"调动原因"}}),i("el-table-column",{attrs:{prop:"removedate",label:"调动日期"}})],1)]}}])}),i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"department.name",align:"left",label:"所属部门"}}),i("el-table-column",{attrs:{prop:"position.name",label:"职位"}}),i("el-table-column",{attrs:{prop:"jobLevel.name",label:"职称"}}),i("el-table-column",{attrs:{prop:"engageform",align:"left",label:"聘用形式"}}),i("el-table-column",{attrs:{prop:"begindate",align:"left",label:"入职日期"}}),i("el-table-column",{attrs:{prop:"begincontract",align:"left",label:"合同起始日期"}}),i("el-table-column",{attrs:{prop:"endcontract",align:"left",label:"合同截止日期"}}),i("el-table-column",{attrs:{align:"left",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.contractterm))]),e._v(" 年 ")]}}])}),i("el-table-column",{attrs:{width:"200",align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.showEditEmpView(t.row)}}},[e._v("调 动 ")])]}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[20,40,60,,80]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)])},s=[],n=(i("4de4"),i("b0c0"),{name:"PerMv",data:function(){return{multipleSelection:[],searchValue:{politicid:null,nationid:null,joblevelid:null,posid:null,engageform:null,departmentid:null,beginDateScope:null},title:"",importDataBtnText:"导入数据",importDataBtnIcon:"el-icon-upload2",importDataDisabled:!1,showAdvanceSearchView:!1,allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,total:0,page:1,keyword:"",size:20,nations:[],joblevels:[],politicsstatus:[],positions:[],tiptopDegrees:["本科","大专","硕士","博士","高中","初中","小学","其他"],options:[{value:"",label:""}],inputDepName:"所属部门",emp:{id:"",name:"小明",gender:"男",birthday:"1995-10-08",idcard:"610122199001011256",wedlock:"已婚",nationid:1,nativeplace:"内蒙古",politicid:13,email:"1224965096@qq.com",phone:"18565558897",address:"内蒙古呼和浩特",departmentid:29,joblevelid:9,posid:29,engageform:"劳务合同",tiptopdegree:"本科",specialty:"信息与计算科学",school:"集宁师范学院",begindate:"2017-12-31",workstate:"",workid:"",contractterm:2,conversiontime:"2018-03-31",notworkdate:null,begincontract:"2017-12-31",endcontract:"2019-12-31",workage:null},defaultProps:{children:"children",label:"name"},rules:{}}},mounted:function(){this.initEmps(),this.initData(),this.initPositions()},methods:{tableRowClassName:function(e){e.row;var t=e.rowIndex;return 1===t?"warning-row":3===t?"success-row":""},handleSelectionChange:function(e){this.multipleSelection=e},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},filert:function(e){return this.joblevels.filter((function(t){if(t.id===e)return t.name}))},emptyEmp:function(){this.emp={id:"",name:"小明",gender:"男",birthday:"1995-10-08",idcard:"610122199001011256",wedlock:"已婚",nationid:1,nativeplace:"内蒙古",politicid:13,email:"1224965096@qq.com",phone:"18565558897",address:"内蒙古呼和浩特",departmentid:8,joblevelid:9,posid:29,engageform:"劳务合同",tiptopdegree:"本科",specialty:"信息与计算科学",school:"集宁师范学院",begindate:"2017-12-31",workstate:"",workid:"",contractterm:2,conversiontime:"2018-03-31",notworkdate:null,begincontract:"2017-12-31",endcontract:"2019-12-31",workage:null},this.inputDepName=""},showEditEmpView:function(e){this.initPositions(),this.emp.workstate="",this.emp=e,this.emp.workstate=null,this.inputDepName=e.department.name,this.dialogVisible=!0},doAddEmp:function(){var e=this;this.emp.id&&this.$refs["empForm"].validate((function(t){t&&(e.$notify.success({title:"调动讯息",message:" 调 动 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),e.putRequest("/personnel/remove/",e.emp).then((function(t){t&&(e.dialogVisible=!1,e.initEmps())})))}))},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},showDepView:function(){this.popVisible1=!this.popVisible1},showDepView1:function(){this.popVisible=!this.popVisible},initPositions:function(){var e=this;this.getRequest("/personnel/remove/positions").then((function(t){t&&(e.positions=t,window.sessionStorage.setItem("positions",JSON.stringify(t)))}))},initData:function(){var e=this;window.sessionStorage.getItem("positions")?this.positions=JSON.parse(window.sessionStorage.getItem("positions")):this.initPositions(),window.sessionStorage.getItem("deps")?this.allDeps=JSON.parse(window.sessionStorage.getItem("deps")):this.getRequest("/personnel/remove/deps").then((function(t){t&&(e.allDeps=t,window.sessionStorage.setItem("deps",JSON.stringify(t)))})),window.sessionStorage.getItem("joblevels")?this.joblevels=JSON.parse(window.sessionStorage.getItem("joblevels")):this.getRequest("/employee/basic/joblevels").then((function(t){t&&(e.joblevels=t,window.sessionStorage.setItem("joblevels",JSON.stringify(t)))}))},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},showAddEmpView:function(){this.emptyEmp(),this.title="添加员工",this.getMaxWordID(),this.dialogVisible=!0},initEmps:function(){var e=this;this.loading=!0;var t="/personnel/remove/?page="+this.page+"&size="+this.size;this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),t+="&name="+this.keyword),this.$notify.success({title:"系统讯息",message:" 调 动 信 息 加 载 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.getRequest(t).then((function(t){e.loading=!1,t&&(e.emps=t.data,e.total=t.total,e.searchValue=[],e.keyword="")}))}}}),l=n,o=(i("4c87"),i("2877")),r=Object(o["a"])(l,a,s,!1,null,null,null);t["default"]=r.exports},d9ac:function(e,t,i){"use strict";i.r(t);var a=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[[i("el-tabs",{on:{"tab-click":e.handleClick},model:{value:e.activeName,callback:function(t){e.activeName=t},expression:"activeName"}},[i("el-tab-pane",{attrs:{label:"添加奖惩",name:"Addjc"}},[i("Addjc")],1),i("el-tab-pane",{attrs:{label:"奖惩管理",name:"Magjc"}},[i("Magjc")],1)],1)]],2)},s=[],n=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"top-style"},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initEmps}},[e._v(" 搜索 ")])],1)]),i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"645px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"665","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",customClass:e.loadingstyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"left",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"department.name",width:"100",align:"left",label:"所属部门"}}),i("el-table-column",{attrs:{prop:"position.name",width:"100",label:"职位"}}),i("el-table-column",{attrs:{prop:"jobLevel.name",width:"100",label:"职称"}}),i("el-table-column",{attrs:{prop:"begindate",align:"left",label:"入职日期"}}),i("el-table-column",{attrs:{prop:"conversiontime",align:"left",label:"转正日期"}}),i("el-table-column",{attrs:{prop:"begincontract",align:"left",label:"合同起始日期"}}),i("el-table-column",{attrs:{prop:"endcontract",align:"left",label:"合同截止日期"}}),i("el-table-column",{attrs:{align:"left",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.contractterm))]),e._v(" 年 ")]}}])}),i("el-table-column",{attrs:{align:"center",label:"操作"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-button",{staticStyle:{padding:"3px"},attrs:{type:"primary"},on:{click:function(i){return e.showEditEmpView(t.row)}}},[e._v("添加奖惩 ")])]}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[13,33,333,,3333]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1),i("el-dialog",{attrs:{title:"添加奖惩",visible:e.centerDialogVisible,width:"36.42%",center:""},on:{"update:visible":function(t){e.centerDialogVisible=t}}},[i("el-transfer",{attrs:{titles:["奖惩类型","奖惩类型"],"button-texts":["删除","添加"],data:e.data},model:{value:e.value,callback:function(t){e.value=t},expression:"value"}}),i("el-input",{staticStyle:{"margin-top":"20px"},attrs:{type:"textarea",placeholder:"奖惩原因描述",maxlength:"100",autosize:{minRows:4,maxRows:6},"show-word-limit":""},model:{value:e.employeeec.ecreason,callback:function(t){e.$set(e.employeeec,"ecreason",t)},expression:"employeeec.ecreason"}}),i("el-input",{staticStyle:{"margin-top":"20px"},attrs:{type:"textarea",placeholder:"备注",maxlength:"30","show-word-limit":""},model:{value:e.employeeec.remark,callback:function(t){e.$set(e.employeeec,"remark",t)},expression:"employeeec.remark"}}),i("span",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[i("el-button",{on:{click:function(t){e.centerDialogVisible=!1}}},[e._v("取 消")]),i("el-button",{attrs:{type:"primary"},on:{click:e.doAddEmc}},[e._v("确 定")])],1)],1)],1)},l=[],o=(i("4160"),i("b0c0"),i("159b"),{name:"Addjc",inject:["reload"],data:function(){return{data:[],value:[],textarea:"",multipleSelection:[],centerDialogVisible:!1,title:"",allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,total:0,page:1,keyword:"",size:12,defaultProps:{children:"children",label:"name"},employeeec:{eid:"",ecdate:"",ecreason:"",ecpoint:"",ectype:"",remark:""}}},mounted:function(){this.initEmps(),this.initrps(),this.initPositions()},methods:{showEditEmpView:function(e){this.centerDialogVisible=!0,this.employeeec.eid=e.id},deleteMany:function(){var e=this;this.$confirm("此操作将永久删除【"+this.multipleSelection.length+"】条记录, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){e.$notify.success({title:"删除讯息",message:"删 除 员 工 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"});var t="?";e.multipleSelection.forEach((function(e){t+="ids="+e.id+"&"})),e.deleteRequest("/employee/basic/many/"+t).then((function(t){t&&e.initEmps()}))})).catch((function(){e.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},doAddEmc:function(){var e=this;if(this.centerDialogVisible=!1,0!=this.value.length&&this.employeeec.ecreason&&this.employeeec.remark){this.$notify.success({title:"添加讯息",message:"添 加 奖 惩 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"});var t="/personnel/ec/?eid="+this.employeeec.eid+"&ecreason="+this.employeeec.ecreason+"&remark="+this.employeeec.remark;this.value.forEach((function(e){t+="&ids="+e})),this.getRequest(t).then((function(t){t&&(e.value=[],e.employeeec=[],e.reload())}))}else this.$notify({title:"添加讯息",message:"添 加 字 段 为 空!...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass",type:"warning"})},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},initEmps:function(e){var t=this;this.loading=!0;var i="/personnel/ec/init?page="+this.page+"&size="+this.size;e&&"advanced"==e?this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}):this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),i+="&name="+this.keyword),this.getRequest(i).then((function(e){t.loading=!1,e&&(t.emps=e.data,t.total=e.total,t.searchValue=[],t.keyword="")}))},initrps:function(){var e=this;setTimeout((function(){e.$notify.success({title:"系统讯息",message:"奖 罚 规 则 信 息 加 载 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}),1200),this.getRequest("/personnel/ec/rp").then((function(t){t&&e.generateData(t)}))},generateData:function(e){var t=this;e.forEach((function(e){t.data.push({label:e.rpmsg,key:e.id})}))}}}),r=o,p=(i("ac75"),i("2877")),c=Object(p["a"])(r,n,l,!1,null,"52ba291f",null),d=c.exports,u=function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",[i("div",{staticClass:"top-style"},[i("div",{staticStyle:{display:"flex","justify-content":"flex-start"}},[i("el-input",{staticStyle:{width:"350px","margin-right":"10px"},attrs:{placeholder:"请输入员工名进行搜索，可以直接回车搜索...","prefix-icon":"el-icon-search",clearable:"",disabled:e.showAdvanceSearchView},on:{clear:e.initEmps},nativeOn:{keydown:function(t){return!t.type.indexOf("key")&&e._k(t.keyCode,"enter",13,t.key,"Enter")?null:e.initEmps(t)}},model:{value:e.keyword,callback:function(t){e.keyword=t},expression:"keyword"}}),i("el-button",{attrs:{icon:"el-icon-search",type:"primary",disabled:e.showAdvanceSearchView},on:{click:e.initEmps}},[e._v(" 搜索 ")])],1)]),i("div",{staticClass:"content-style"},[i("el-scrollbar",{staticStyle:{height:"100%"}},[i("div",[i("el-table",{directives:[{name:"loading",rawName:"v-loading.fullscreen.lock",value:e.loading,expression:"loading",modifiers:{fullscreen:!0,lock:!0}}],staticStyle:{width:"100%",height:"645px"},attrs:{data:e.emps,stripe:"",border:"","max-height":"665",height:"650","element-loading-spinner":"fa fa-spinner fa-pulse fa-3x fa-fw",customClass:e.loadingstyle},on:{"selection-change":e.handleSelectionChange}},[i("el-table-column",{attrs:{prop:"name",align:"left",label:"姓名",width:"100"}}),i("el-table-column",{attrs:{prop:"workid",fixed:"",label:"工号",align:"left",width:"85"}}),i("el-table-column",{attrs:{prop:"email",width:"180",align:"left",label:"电子邮件"}}),i("el-table-column",{attrs:{prop:"phone",width:"100",align:"left",label:"电话号码"}}),i("el-table-column",{attrs:{prop:"begincontract",align:"left",width:"120",label:"合同起始日期"}}),i("el-table-column",{attrs:{prop:"endcontract",align:"left",width:"120",label:"合同截止日期"}}),i("el-table-column",{attrs:{align:"left",width:"120",label:"合同期限"},scopedSlots:e._u([{key:"default",fn:function(t){return[i("el-tag",{attrs:{size:"mini"}},[e._v(e._s(t.row.contractterm))]),e._v(" 年 ")]}}])}),i("el-table-column",{attrs:{prop:"employeeecList",label:"奖惩"},scopedSlots:e._u([{key:"default",fn:function(t){return e._l(t.row.employeeecList,(function(t,a){return i("el-tag",{key:a,staticStyle:{"margin-right":"10px","margin-top":"5px"},attrs:{closable:"",size:"small",type:1===t.rwardsPunishments.rpsystemId?"danger":3===t.rwardsPunishments.rpsystemId?"success":"warning"},on:{click:function(i){return e.magrp(t)},close:function(i){return e.updatarp(t)}}},[e._v(" "+e._s(t.rwardsPunishments.rpmsg)+" ")])}))}}])})],1)],1)])],1),i("div",{staticClass:"bottom-style"},[i("el-pagination",{staticStyle:{"margin-top":"10px"},attrs:{background:"",layout:"sizes, prev, pager, next, jumper, ->, total, slot",total:e.total,"page-sizes":[100,500,5e3,,5e4]},on:{"current-change":e.currentChange,"size-change":e.sizeChange}})],1)])},m=[],h={name:"Magjc",data:function(){return{data:[],value:[],textarea:"",multipleSelection:[],centerDialogVisible:!1,title:"",allDeps:[],emps:[],loading:!1,popVisible:!1,popVisible1:!1,dialogVisible:!1,total:0,page:1,keyword:"",size:100,defaultProps:{children:"children",label:"name"},employeeec:{eid:"",ecdate:"",ecreason:"",ecpoint:"",ectype:"",remark:""},eid:"",id:""}},mounted:function(){this.initEmps(),this.initPositions()},methods:{magrp:function(e){this.$notify({title:"奖惩详情",dangerouslyUseHTMLString:!0,message:"<p/> <h3>奖惩类型:"+(5==e.rwardsPunishments.rpsystemId?"专项奖励类":3==e.rwardsPunishments.rpsystemId?"经济奖惩类":"行政奖惩类")+"</h2><p/><p/> <h3>奖惩原因:"+e.ecreason+"</h3><p/><h3>奖惩分值: "+e.rwardsPunishments.rpiont+"分</h3><p/> <h3>奖惩日期:"+e.ecdate+"</h3><p/><h3>备注: "+e.remark+"</h3>",iconClass:"el-icon-discount",offset:300,duration:4e3})},updatarp:function(e){var t=this;this.eid=e.eid,this.id=e.id,this.$confirm("此操作将永久删除【"+e.rwardsPunishments.rpmsg+"】, 是否继续?","提示",{confirmButtonText:"确定",cancelButtonText:"取消",type:"warning"}).then((function(){t.$notify.success({title:"删除讯息",message:"删 除 奖 惩 中...",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"}),t.deleteRequest("/personnel/ec/"+t.eid+"/"+t.id).then((function(e){e&&t.initEmps()}))})).catch((function(){t.$notify.info({title:"删除讯息",message:"以 取 消 删 除 ",showClose:!1,offset:100,duration:4e3,customClass:"fontclass"})}))},filterTag:function(e,t){return t.tag===e},showEditEmpView:function(e){this.centerDialogVisible=!0,this.employeeec.eid=e.id},searvhViewHandleNodeClick:function(e){this.inputDepName=e.name,this.searchValue.departmentid=e.id,this.popVisible1=!this.popVisible1},handleNodeClick:function(e){this.inputDepName=e.name,this.emp.departmentid=e.id,this.popVisible=!this.popVisible},sizeChange:function(e){this.size=e,this.initEmps()},currentChange:function(e){this.page=e,this.initEmps()},showAddEmpView:function(){this.emptyEmp(),this.title="添加员工",this.getMaxWordID(),this.dialogVisible=!0},initEmps:function(e){var t=this;this.loading=!0;var i="/personnel/ec/ec?page="+this.page+"&size="+this.size;e&&"advanced"==e?this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}):this.keyword&&(this.$notify.success({title:"搜索讯息",message:"搜 索 员 工 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),i+="&name="+this.keyword),this.$notify.success({title:"系统讯息",message:" 员 工 信 息 加 载 中...",showClose:!1,offset:100,duration:2e3,customClass:"fontclass"}),this.getRequest(i).then((function(e){t.loading=!1,e&&(t.emps=e.data,t.total=e.total,t.searchValue=[],t.keyword="")}))}}},f=h,g=(i("50e8"),Object(p["a"])(f,u,m,!1,null,"24c3a353",null)),b=g.exports,y={name:"PerEc",data:function(){return{activeName:"Addjc",data:{}}},methods:{},components:{Addjc:d,Magjc:b}},w=y,v=Object(p["a"])(w,a,s,!1,null,"0262a412",null);t["default"]=v.exports},f650:function(e,t,i){}}]);
//# sourceMappingURL=chunk-553f188a.1ff608dd.js.map